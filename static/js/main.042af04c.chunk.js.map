{"version":3,"sources":["components/AudioSelector.tsx","utils/functions/useSelect.ts","utils/handlers/SettingsStorage.ts","containers/AudioSelectorContainer.tsx","static/add_black_24dp.svg","static/play_arrow_black_24dp.svg","static/pause_black_24dp.svg","static/delete_black_24dp.svg","static/restart_alt_black_24dp.svg","static/done_black_24dp.svg","config.ts","utils/functions/useToggle.ts","components/TimerItem.tsx","states/ContextPlocState.ts","states/PlocState.ts","states/context.ts","utils/functions/parseSecsToMinSec.ts","states/TimerPlocState.ts","states/TogglePlocState.ts","states/usePlocState.ts","hooks/useWorkerTimer.ts","containers/TimerItemContainer.tsx","components/TimerList.tsx","utils/handlers/TimerStorage.ts","states/TimerListPlocState.ts","hooks/useTimerList.ts","containers/TimerListContainer.tsx","states/AudioPlocState.ts","view/WorkerTimerView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["AudioSelector","value","selectorListData","onChangeSelect","className","onChange","map","s","text","memo","useSelect","initSelectVal","onValChanged","handleValChanged","useRef","useState","val","setVal","handleSelect","useCallback","e","target","current","useEffect","SettingsStorage","LSKey","setLSData","payload","originData","origin","this","getLSData","localStorage","setItem","JSON","stringify","data","getItem","parse","AudioSelectorContainer","props","onAudioValueChanged","selectedAudio","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","_ref3","SvgAddBlack24Dp","_ref","svgRef","title","titleId","xmlns","height","viewBox","width","ref","id","ForwardRef","SvgPlayArrowBlack24Dp","SvgPauseBlack24Dp","SvgDeleteBlack24Dp","SvgRestartAltBlack24Dp","enableBackground","SvgDoneBlack24Dp","WORKER_MESSAGES","useToggle","initToggle","toggle","setToggle","handleToggle","t","handleCloseToggle","TimerInput","type","style","padding","fontSize","textAlign","border","backgroundColor","borderRadius","TimerItem","isEdit","paused","timerName","timeStr","timeValues","onStartPause","onReset","onDeleteTimer","onEditTime","onToggleEditTime","onEditTimerName","isEditName","paddingBottom","onClick","autoFocus","placeholder","onBlur","onDoubleClick","display","alignItems","name","String","mins","fontWeight","secs","AUDIO_PATH","process","ContextActionsEnum","DEFAULT_TIME_VALUES","PlocState","initState","_state","_prevState","listeners","prevState","getStateFn","prevVal","newVal","state","newState","partialState","_newState","getNewState","syncStateWithPartialNewState","forEach","l","compareValFn","checkShouldUpdateByListener","compareVal","listenerReturnVal","listener","syncPrevState","singleListener","push","listenerIdx","findIndex","splice","defaultContextState","alarmVolume","context","initS","volume","addlistener","action","updateState","SET_VOLUME","reducer","parseSecsToMinSec","addZero","num","Math","floor","_secs","getRemainSecs","timeVals","passedSecs","initTimerState","remainSecs","parsedMinSecStr","TimerPlocState","handleResetTimer","console","log","handlePauseTimer","handleStartTimer","timerWorker","postMessage","START","handleStartOrPause","_pause","newPaused","handleEditTimeVals","Number","handleEditTimerName","tName","updateByRemainSecs","onTimeupCb","registerUpdatingByTimerWorker","STOP","tick","TICK_FROM_WORKER","handleAddPassedSecs","addEventListener","removeEventListener","TogglePlocState","_toggle","usePlocState","ploc","setState","removeListener","useWorkerTimer","options","timerId","initTimeVals","onTimeValuesChanged","onTimerNameChanged","onPlayAudio","ctxState","worker","timerPloc","timerState","togglePloc","toggleState","handleStartPause","handleTimeValueChanged","_timeValues","Worker","listner","handleEditTime","handleReset","handleToggleEditTime","TimerItemContainer","TimerList","timerListData","onAddTimer","TimerStorage","defaultTimers","parsed","timers","getTimersMaxId","ids","max","defaultTimerListState","latestId","timerList","getNewTimerList","newTimeVals","res","timerIdx","timer","TimerListPlocState","makeNewTimer","listenToTimeListChanged","handleAddTimer","newId","handleRemoveTimer","filter","getNewTimerListFn","useTimerList","timerListPloc","timerListState","handleSetTimeValues","handleUpdateTimerListByFn","handleSetTimerName","undefined","TimerListContainer","AUDIO_NAME_URL_LIST","url","defaultAudioState","audioNameUrlList","AudioPlocState","audio","getAudioUrl","find","a","getSelectedAudio","handleSetAudioUrl","setAttribute","load","handleAsyncPlay","play","Promise","handlePlay","handleRepeatPlay","audioOptions","repeatTimes","Array","handlePause","pause","Audio","WorkerTimerView","audioPloc","playTimeout","audioState","ctx","handleChangeVolume","dispatch","useWorkerTimerView","min","step","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.042af04c.chunk.js","sourcesContent":["import React, { memo } from 'react';\nimport { AudioSelectorProps } from './types';\nimport './styles.scss';\n\nconst AudioSelector = ({\n  value,\n  selectorListData,\n  onChangeSelect,\n}: AudioSelectorProps) => {\n  return (\n    <div className={'audio-selector--wrapper'}>\n      <h3>{'Audio: '}</h3>\n      <select value={value} onChange={onChangeSelect}>\n        {selectorListData.map(s => (\n          <option key={s.value} value={s.value}>\n            {s.text}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nexport default memo(AudioSelector);","import { Callback } from \"common-types\";\nimport { ChangeEvent, useCallback, useEffect, useRef, useState } from \"react\";\n\nconst useSelect = (initSelectVal = '', onValChanged?: Callback) => {\n  const handleValChanged = useRef(onValChanged);\n  const [val, setVal] = useState(initSelectVal);\n\n  const handleSelect = useCallback((e: ChangeEvent<any>) => {\n    setVal(e.target.value);\n  }, []);\n\n  handleValChanged.current = onValChanged;\n  useEffect(() => {\n    handleValChanged.current && handleValChanged.current(val);\n  }, [val]);\n\n  return ({\n    val,\n    handleSelect,\n    setVal,\n  });\n};\n\nexport default useSelect;","export interface WorkerTimerSettings {\n  volume: number\n  selectedAudio: string\n}\n\nconst SettingsStorage = {\n  LSKey: 'WORKER_TIMER_SETTINGS',\n  \n  setLSData(payload: Partial<WorkerTimerSettings>) {\n    let originData = {\n      ...payload\n    };\n    const origin = this.getLSData();\n    if(origin) {\n      originData = {\n        ...origin,\n        ...originData,\n      };\n    }\n    localStorage.setItem(this.LSKey, JSON.stringify(originData));\n  },\n\n  getLSData(): WorkerTimerSettings | undefined {\n    const data = localStorage.getItem(this.LSKey);\n    if(!data) return undefined;\n    return JSON.parse(data);\n  }\n};\n\nexport default SettingsStorage;","import { SingleSelectorValText } from 'common-types';\nimport AudioSelector from 'components/AudioSelector';\nimport { AudioSelectorProps } from 'components/types';\nimport React, { memo, useEffect } from 'react';\nimport useSelect from 'utils/functions/useSelect';\nimport SettingsStorage from 'utils/handlers/SettingsStorage';\n\nexport interface AudioSelectorContainerProps extends Pick<AudioSelectorProps, 'selectorListData'> {\n  onAudioValueChanged: (url: string) => any\n}\n\nconst AudioSelectorContainer = (props: AudioSelectorContainerProps) => {\n  const {\n    selectorListData,\n    onAudioValueChanged,\n  } = props;\n\n  const initSelectVal = SettingsStorage.getLSData()?.selectedAudio || selectorListData[2]?.value;\n\n  const {\n    val,\n    handleSelect,\n  } = useSelect(initSelectVal, onAudioValueChanged);\n\n  useEffect(() => {\n    SettingsStorage.setLSData({\n      selectedAudio: val,\n    });\n  }, [val]);\n\n  return (\n    <AudioSelector\n      {...props}\n      value={val}\n      onChangeSelect={handleSelect}\n    />\n  );\n};\n\nexport default memo(AudioSelectorContainer);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nfunction SvgAddBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/add_black_24dp.376e9b6a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 8.64L15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z\"\n});\n\nfunction SvgPlayArrowBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayArrowBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/play_arrow_black_24dp.2cbf407a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n});\n\nfunction SvgPauseBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPauseBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/pause_black_24dp.95877413.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z\"\n});\n\nfunction SvgDeleteBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeleteBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/delete_black_24dp.1129c53a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,0h24v24H0V0z\",\n  fill: \"none\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6,13c0-1.65,0.67-3.15,1.76-4.24L6.34,7.34C4.9,8.79,4,10.79,4,13c0,4.08,3.05,7.44,7,7.93v-2.02 C8.17,18.43,6,15.97,6,13z M20,13c0-4.42-3.58-8-8-8c-0.06,0-0.12,0.01-0.18,0.01l1.09-1.09L11.5,2.5L8,6l3.5,3.5l1.41-1.41 l-1.08-1.08C11.89,7.01,11.95,7,12,7c3.31,0,6,2.69,6,6c0,2.97-2.17,5.43-5,5.91v2.02C16.95,20.44,20,17.08,20,13z\"\n})));\n\nfunction SvgRestartAltBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRestartAltBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/restart_alt_black_24dp.7cc6c8f0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n});\n\nfunction SvgDoneBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDoneBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/done_black_24dp.6a318b8d.svg\";\nexport { ForwardRef as ReactComponent };","import { TimeValues } from \"./states/TimerPlocState\";\n\nexport const WORKER_PATH = process.env.PUBLIC_URL + '/js/worker.js';\nexport const AUDIO_PATH = process.env.PUBLIC_URL + '/assets/sounds';\n\nexport enum WORKER_MESSAGES {\n  'STOP' = 'stop',\n  'START' = 'start',\n  'TICK_FROM_WORKER' = 'tick-from-worker'\n}\n\nexport const DEFAULT_TIME_VALUES: TimeValues = {\n  mins: 5,\n  secs: 0,\n};","\r\nimport { Callback } from \"common-types\";\r\nimport { useState } from \"react\";\r\n\r\nexport interface UseToggleStates {\r\n  toggle: boolean\r\n  setToggle: (t: boolean) => any\r\n  handleCloseToggle: Callback\r\n  handleToggle: Callback\r\n}\r\n\r\nconst useToggle = (initToggle: boolean=false): UseToggleStates => {\r\n  const [toggle, setToggle] = useState(initToggle);\r\n\r\n  const handleToggle = () => {\r\n    setToggle(t => !t);\r\n  };\r\n\r\n  const handleCloseToggle = () => {\r\n    toggle && setToggle(false);\r\n  };\r\n  \r\n  return { toggle, setToggle, handleToggle, handleCloseToggle };\r\n};\r\n\r\nexport default useToggle;","import { ReactComponent as StartIcon } from \"../static/play_arrow_black_24dp.svg\";\nimport { ReactComponent as PauseIcon } from \"../static/pause_black_24dp.svg\";\nimport { ReactComponent as DeleteIcon } from \"../static/delete_black_24dp.svg\";\nimport { ReactComponent as ResetIcon } from \"../static/restart_alt_black_24dp.svg\";\nimport { ReactComponent as DoneIcon } from \"../static/done_black_24dp.svg\";\nimport { TimerItemProps } from \"./types\";\nimport useToggle from \"utils/functions/useToggle\";\n\nconst TimerInput = (props: any) => (\n  <input\n    {...props}\n    type=\"number\"\n    style={{\n      width: 60,\n      padding: 4,\n      fontSize: 30,\n      textAlign: \"right\",\n      border: \"none\",\n      backgroundColor: \"#eee\",\n      borderRadius: 6\n    }}\n  />\n);\n\nconst TimerItem = ({\n  isEdit,\n  paused,\n  timerName,\n  timeStr,\n  timeValues,\n  onStartPause,\n  onReset,\n  onDeleteTimer,\n  onEditTime,\n  onToggleEditTime,\n  onEditTimerName,\n}: TimerItemProps) => {\n  const {\n    toggle: isEditName,\n    handleToggle,\n    setToggle,\n  } = useToggle(false);\n  return (\n    <div\n      style={{\n        paddingBottom: 8\n      }}\n    >\n      <div className={\"timer-wrapper\"}>\n        <div className={'timer-name--wrapper'}>\n          <div onClick={handleToggle}>\n            {(!timerName && !isEditName) && (\n              <span className={'input-timer-name-hint'}>\n                {'Double click to add name'}\n              </span>\n            )}\n            {isEditName ? (\n              <input\n                autoFocus={true}\n                value={timerName}\n                placeholder={'Timer Name'}\n                onChange={onEditTimerName}\n                onBlur={() => setToggle(false)} \n              />\n            ): (\n              <p>{timerName}</p>\n            )}\n          </div>\n          <div onDoubleClick={onToggleEditTime(true)}>\n            {isEdit ? (\n              <form\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\"\n                }}\n                onChange={onEditTime}\n              >\n                <TimerInput name=\"mins\" value={String(timeValues.mins)} />\n                <div\n                  style={{\n                    padding: \"0px 4px\",\n                    fontSize: 30,\n                    fontWeight: \"bolder\"\n                  }}\n                >\n                  {\" : \"}\n                </div>\n                <TimerInput name=\"secs\" value={String(timeValues.secs)} />\n                <DoneIcon onClick={onToggleEditTime(false)} />\n              </form>\n            ) : (\n              <h1>{timeStr}</h1>\n            )}\n          </div>\n        </div>\n        <div className={\"button-wrapper\"}>\n          <button className={\"timer-btn\"} onClick={() => onStartPause()}>\n            {paused ? <StartIcon /> : <PauseIcon />}\n          </button>\n          <button className={\"timer-btn\"} onClick={onReset}>\n            <ResetIcon />\n          </button>\n          <button className={\"timer-btn\"} onClick={onDeleteTimer}>\n            <DeleteIcon />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TimerItem;\n","import SettingsStorage from \"utils/handlers/SettingsStorage\";\nimport PlocState from \"./PlocState\";\n\nexport interface ContextState {\n  alarmVolume: number\n}\n\nexport const defaultContextState: ContextState = {\n  alarmVolume: 0.7,\n};\n\nexport enum ContextActionsEnum {\n  'SET_VOLUME' = 'SET_VOLUME'\n}\n\ntype SetVolumeAction = {\n  type: ContextActionsEnum.SET_VOLUME,\n  payload: { volume: number }\n}\n\ntype ContextAction = \n  SetVolumeAction\n\n\nconst reducer = (state: ContextState, action: ContextAction): ContextState => {\n  switch (action.type) {\n    case ContextActionsEnum.SET_VOLUME:\n      return ({\n        ...state,\n        alarmVolume: action.payload.volume,\n      });\n    default:\n      return state;\n  }\n};\n\nclass ContextPlocState extends PlocState<ContextState> {\n  constructor(initS?: Partial<ContextState>) {\n    super({\n      ...defaultContextState,\n      ...initS,\n      alarmVolume: \n        SettingsStorage.getLSData()?.volume || \n        defaultContextState.alarmVolume\n    });\n    this.addlistener(s => {\n      SettingsStorage.setLSData({ volume: s.alarmVolume, });\n    }, s => [s.alarmVolume]);\n  }\n\n  dispatch(action: ContextAction) {\n    this.updateState(s => reducer(s, action));\n  }\n}\n\nexport default ContextPlocState;","/* eslint-disable no-underscore-dangle */\nexport type Listener<State> = (state: State) => Partial<State> | void | undefined\ninterface GetNewStateFn<State> {\n  (s: State): Partial<State>\n}\n\nexport interface SingleListenerWithCompare<State> {\n  compareVal: State[keyof State][]\n  compareValFn?: (s: State) => State[keyof State][]\n  listener: Listener<State>\n}\n\nclass PlocState<State> {\n  private _state: State\n  private _prevState: State\n\n  get state(): State {\n    return this._state;\n  }\n\n  listeners: (SingleListenerWithCompare<State>)[]\n\n  constructor(initState: State) {\n    this._state = initState;\n    this._prevState = initState;\n    this.listeners = [];\n  }\n\n  private checkShouldUpdateByListener(prevState: any[], getStateFn: (s: State) => any): boolean {\n    for (let i = 0; i < prevState.length; i += 1) {\n      const prevVal = prevState[i];\n      const newVal = getStateFn(this.state)[i];\n      // console.log('checkShouldUpdateByListener: ', prevVal, newVal);\n      if (JSON.stringify(prevVal) !== JSON.stringify(newVal)) return true;\n    }\n    return false;\n  }\n\n  private getNewState<NewState extends Partial<State> | GetNewStateFn<State>>(newState: NewState): Partial<State> {\n    const _newState = (typeof newState === 'function' ? (newState as GetNewStateFn<State>)(this.state) : newState) as Partial<State>;\n    return _newState;\n  }\n\n  private compareStateIsSame(newState: State) {\n    return JSON.stringify(this._prevState) === JSON.stringify(newState);\n  }\n\n  private syncPrevState() {\n    this._prevState = JSON.parse(JSON.stringify(this.state));\n  }\n\n  private syncStateWithPartialNewState(partialState: Partial<State>) {\n    this._state = {\n      ...this.state,\n      ...partialState,\n    };\n  }\n\n  updateState<NewState extends Partial<State> | GetNewStateFn<State>>(newState: NewState): void {\n    const _newState = this.getNewState(newState);\n\n    this.syncStateWithPartialNewState(_newState);\n    // if(this.compareStateIsSame(this._state)) return;\n\n    this.listeners.forEach((l, i) => {\n      if (l.compareValFn) {\n        const shouldUpdateByCompareVal = this.checkShouldUpdateByListener(l.compareVal, l.compareValFn);\n        if (!shouldUpdateByCompareVal) return;\n      }\n\n      const listenerReturnVal = l.listener(this.state);\n      if (listenerReturnVal && typeof listenerReturnVal === 'object') {\n        this.syncStateWithPartialNewState(listenerReturnVal);\n      }\n      if (l.compareValFn) { l.compareVal = [...l.compareValFn(this.state)]; }\n    });\n    this.syncPrevState();\n  }\n\n  addlistener(listener: Listener<State>, compareValFn?: (s: State) => State[keyof State][]): void {\n    const singleListener: SingleListenerWithCompare<State> = {\n      listener,\n      compareValFn,\n      compareVal: compareValFn ? [...compareValFn(this.state)] : [],\n    };\n    // console.log(singleListener);\n    this.listeners.push(singleListener);\n  }\n\n  removeListener(listener: Listener<State>): void {\n    const listenerIdx = this.listeners.findIndex((l) => l.listener === listener);\n    if (listenerIdx !== -1) {\n      this.listeners.splice(listenerIdx, 1);\n    }\n  }\n}\n\nexport default PlocState;\n","import ContextPlocState from \"./ContextPlocState\";\n\nexport const context = new ContextPlocState();","\nconst parseSecsToMinSec = (secs = 0) => {\n  const addZero = (num = 0) => (num < 10 ? `0${num}` : num);\n  const mins = Math.floor(secs / 60);\n  const _secs = secs % 60;\n  return `${addZero(mins)}:${addZero(_secs)}`;\n};\n\nexport default parseSecsToMinSec;","import { Callback, SetTimeValuesFn } from \"common-types\";\nimport { WORKER_MESSAGES, WORKER_PATH } from \"../config\";\nimport parseSecsToMinSec from \"../utils/functions/parseSecsToMinSec\";\nimport PlocState, { Listener, } from \"./PlocState\";\n\nconst getRemainSecs = (timeVals: TimeValues, passedSecs: number) => (\n  timeVals.mins * 60 + timeVals.secs - passedSecs\n);\n\nexport interface TimeValues {\n  mins: number;\n  secs: number;\n}\n\nexport interface TimerState {\n  timerWorker?: any\n  timerName?: string\n  remainSecs: number\n  passedSecs: number\n  paused: boolean\n  timeValues: TimeValues\n  parsedMinSecStr: string\n  onTimeupCb?: Callback\n  onTimeValuesChangedCb?: (timeValues: TimeValues) => any\n}\n\nexport const initTimerState: TimerState = {\n  timerName: '',\n  remainSecs: 0,\n  passedSecs: 0,\n  paused: true,\n  timeValues: {\n    mins: 1,\n    secs: 0,\n  },\n  parsedMinSecStr: '',\n};\nclass TimerPlocState extends PlocState<TimerState> {\n  constructor(initState?: Partial<TimerState>) {\n    super({\n      ...initTimerState,\n      ...initState,\n    });\n    this.registerUpdatingByTimerWorker();\n    this.updateState(s => ({\n      remainSecs: getRemainSecs(s.timeValues, s.passedSecs),\n    }));\n    this.updateState(s => ({\n      parsedMinSecStr: parseSecsToMinSec(s.remainSecs)\n    }));\n\n    this.addlistener(s => {\n      const remainSecs = getRemainSecs(s.timeValues, s.passedSecs);\n      const parsedMinSecStr = parseSecsToMinSec(remainSecs);\n      return ({\n        remainSecs,\n        parsedMinSecStr,\n      });\n    }, s => [s.passedSecs, s.timeValues, ]);\n\n    this.addlistener(\n      this.updateByRemainSecs,\n      s => [s.remainSecs, s.paused]\n    );\n  }\n\n  get timerWorker() {\n    return this.state.timerWorker;\n  }\n\n  handleResetTimer = () => {\n    console.log('reset');\n    this.handlePauseTimer();\n    this.updateState(s => ({\n      passedSecs: 0,\n      // parsedMinSecStr: parseSecsToMinSec(s.remainSecs)\n    }));\n  }\n\n  handlePauseTimer() {\n    console.log('timer paused');\n    this.updateState(s => ({\n      paused: true \n    }));\n    this.timerWorker.postMessage(WORKER_MESSAGES.STOP);\n  }\n\n  handleStartTimer = () => {\n    console.log('timer started');\n    this.updateState(s => ({\n      paused: false,\n    }));\n    this.timerWorker.postMessage(WORKER_MESSAGES.START);\n  }\n\n  handleStartOrPause = (_pause?: boolean) => {\n    const { paused } = this.state;\n    let newPaused = !paused;\n    if(typeof _pause === 'boolean') {\n      newPaused = _pause;\n    }\n    if(newPaused) {\n      this.handlePauseTimer();\n    } else {\n      this.handleStartTimer();\n    }\n  }\n\n  handleEditTimeVals = (name: any, val: string) => {\n    this.updateState((s) => ({\n      timeValues: ({\n        ...s.timeValues,\n        [name]: Number(val) < 0 ? 0 : Number(val)\n      })\n    }));\n  }\n\n  handleEditTimerName = (tName: string) => {\n    this.updateState(s => ({\n      timerName: tName,\n    }));\n  }\n\n  handleAddPassedSecs() {\n    !this.state.paused && this.updateState((s) => ({\n      passedSecs: s.passedSecs + 1,\n    }));\n  }\n\n  registerUpdatingByTimerWorker(timerWorker?: Worker) {\n    if(timerWorker) {\n      this.updateState(s => ({\n        timerWorker,\n      }));\n    }\n    if(this.timerWorker) {\n      const tick = (e: MessageEvent<any>) => {\n        if(e.data === WORKER_MESSAGES.TICK_FROM_WORKER) {\n          this.handleAddPassedSecs();\n        }\n      };\n  \n      this.timerWorker.addEventListener('message', tick);\n      return () => {\n        this.timerWorker.removeEventListener('message', tick);\n        this.timerWorker.postMessage(WORKER_MESSAGES.STOP);\n      };\n    }\n  }\n\n  private updateByRemainSecs: Listener<TimerState> = (s) => {\n    if(s.remainSecs < 0 && !s.paused) {\n      this.handleResetTimer();\n      s.onTimeupCb && s.onTimeupCb();\n    }\n  }\n}\n\nexport default TimerPlocState;","import PlocState from \"./PlocState\";\n\nexport interface ToggleState {\n  toggle: boolean\n}\n\nclass TogglePlocState extends PlocState<ToggleState> {\n  handleToggle = () => {\n    this.updateState(s => ({\n      toggle: !s.toggle\n    }));\n  }\n\n  setToggle = (_toggle: ToggleState['toggle']) => {\n    this.updateState({\n      toggle: _toggle\n    });\n  }\n}\n\nexport default TogglePlocState;","import { useCallback, useEffect, useState } from \"react\";\nimport PlocState from \"./PlocState\";\n\nconst usePlocState = <S>(ploc: PlocState<S>) => {\n  const [state, setState] = useState(ploc.state);\n\n  useEffect(() => {\n    const listener = (newState: S) => {\n      // console.log(newState);\n      setState(newState);\n    };\n    ploc.addlistener(listener);\n    return () => ploc.removeListener(listener);\n  }, [ploc]);\n\n  return state;\n};\n\nexport default usePlocState;","import { Callback } from \"common-types\";\nimport { DEFAULT_TIME_VALUES, WORKER_PATH } from \"config\";\nimport { ChangeEvent, FormEvent, useCallback, useEffect, useRef } from \"react\";\nimport AudioPlocState from \"states/AudioPlocState\";\nimport { context } from \"states/context\";\nimport { Listener } from \"states/PlocState\";\nimport TimerPlocState, { TimerState, TimeValues } from \"../states/TimerPlocState\";\nimport TogglePlocState, { ToggleState } from \"../states/TogglePlocState\";\nimport usePlocState from \"../states/usePlocState\";\n\nexport interface UseWorkerTimerOptions {\n  timerId: number\n  timerName?: string\n  initTimeVals?: TimeValues\n  onTimeValuesChanged?: (timerId: number, timeVals: TimeValues) => any\n  onTimerNameChanged: (id: number, timerName?: string) => any\n  onPlayAudio: Callback\n}\n\nconst useWorkerTimer = (options: UseWorkerTimerOptions) => {\n  const {\n    timerName,\n    timerId,\n    initTimeVals,\n    onTimeValuesChanged,\n    onTimerNameChanged,\n    onPlayAudio,\n  } = options;\n\n  const ctxState = usePlocState(context);\n\n  const getVolume = () => {\n    // console.log(context.state.alarmVolume);\n    return context.state.alarmVolume;\n  };\n\n  const worker = useRef<any>();\n  const timerPloc = useRef(new TimerPlocState({\n    // timerWorker: worker.current,\n    timerName,\n    timeValues: initTimeVals || DEFAULT_TIME_VALUES,\n    onTimeupCb: () => onPlayAudio({\n      volume: getVolume(),\n    })\n  }));\n  const timerState = usePlocState(timerPloc.current);\n\n  const togglePloc = useRef(new TogglePlocState({\n    toggle: false,\n  }));\n  const toggleState = usePlocState(togglePloc.current);\n\n  const handleStartPause = timerPloc.current.handleStartOrPause;\n\n  const handleEditTime = (e: any) => {\n    timerPloc.current.handleEditTimeVals(e.target.name, e.target.value);\n  };\n\n  const handleEditTimerName = (e: ChangeEvent<any>) => {\n    timerPloc.current.handleEditTimerName(e.target.value);\n  };\n\n  const handleTimeValueChanged = useCallback((_timeValues: TimeValues) => {\n    onTimeValuesChanged && onTimeValuesChanged(timerId, {..._timeValues});\n  }, [onTimeValuesChanged, timerId]);\n\n  useEffect(() => {\n    worker.current = new Worker(WORKER_PATH);\n    timerPloc.current.registerUpdatingByTimerWorker(\n      worker.current\n    );\n  }, []);\n\n  useEffect(() => {\n    const listener: Listener<TimerState> = (s) => {\n      console.log(s.timerName);\n      onTimerNameChanged(timerId, s.timerName);\n    };\n    timerPloc.current.addlistener(listener, s => [s.timerName]);\n    return () => timerPloc.current.removeListener(listener);\n  }, [onTimerNameChanged, timerId]);\n\n  useEffect(() => {\n    const listner: Listener<ToggleState> = s => {\n      if(!s.toggle) {\n        handleTimeValueChanged(timerPloc.current.state.timeValues);\n      }\n    };\n    togglePloc.current.addlistener(listner, s => [s.toggle]);\n    return () => togglePloc.current.removeListener(listner);\n  }, [handleTimeValueChanged]);\n\n  // useEffect(() => {\n  //   console.log(ctxState.alarmVolume);\n  // }, [ctxState.alarmVolume]);\n\n  return ({\n    ctxState,\n    toggleState,\n    timerState,\n    handleEditTime,\n    handleEditTimerName,\n    handleStartPause,\n    handleReset: timerPloc.current.handleResetTimer,\n    handleToggleEditTime: togglePloc.current.setToggle,\n  });\n};\n\nexport default useWorkerTimer;","import React, { memo } from 'react';\nimport TimerItem from '../components/TimerItem';\nimport useWorkerTimer from '../hooks/useWorkerTimer';\nimport { TimerItemContainerProps } from './types';\n\nconst TimerItemContainer = (props: TimerItemContainerProps) => {\n  const {\n    ctxState,\n    toggleState,\n    timerState,\n    handleEditTime,\n    handleEditTimerName,\n    handleReset,\n    handleStartPause,\n    handleToggleEditTime,\n  } = useWorkerTimer(props);\n\n  return (\n    <>\n      <span style={{\n        display: 'none',\n      }}>{ctxState.alarmVolume}</span>\n      <TimerItem\n        timerName={timerState.timerName}\n        isEdit={toggleState.toggle}\n        paused={timerState.paused}\n        timeStr={timerState.parsedMinSecStr}\n        timeValues={timerState.timeValues}\n        onEditTime={handleEditTime}\n        onEditTimerName={handleEditTimerName}\n        onStartPause={handleStartPause}\n        onReset={handleReset}\n        onDeleteTimer={props.onDeleteTimer}\n        onToggleEditTime={(toggle: boolean) => () => handleToggleEditTime(toggle)}\n      />\n    </>\n  );\n};\n\nexport default memo(TimerItemContainer);","import React, { memo } from 'react';\nimport { ReactComponent as AddIcon } from 'static/add_black_24dp.svg';\nimport TimerItemContainer from '../containers/TimerItemContainer';\nimport { TimerListProps } from './types';\n\nconst TimerList = ({\n  timerListData,\n  onAddTimer,\n  onDeleteTimer,\n  onTimerNameChanged,\n  onTimeValuesChanged,\n  onPlayAudio,\n}: TimerListProps) => {\n  return (\n    <>\n      {timerListData.map(({ timerId: id, timeValues, timerName, }) => (\n        <TimerItemContainer\n          key={id}\n          timerId={id}\n          timerName={timerName}\n          initTimeVals={timeValues}\n          onDeleteTimer={() => onDeleteTimer(id)}\n          onTimeValuesChanged={onTimeValuesChanged}\n          onTimerNameChanged={onTimerNameChanged}\n          onPlayAudio={onPlayAudio}\n        />\n      ))}\n      <button className={\"timer-btn\"} onClick={onAddTimer}>\n        <AddIcon />\n      </button>\n    </>\n  );\n};\n\nexport default memo(TimerList);","import { SingleTimer } from \"../../components/types\";\r\nimport { DEFAULT_TIME_VALUES } from \"../../config\";\r\nimport { TimeValues } from \"../../states/TimerPlocState\";\r\n\r\nconst TimerStorage = {\r\n  LSKey: \"worker-timer\",\r\n\r\n  defaultTimers: [\r\n    {\r\n      timerId: 0,\r\n      timeValues: DEFAULT_TIME_VALUES\r\n    }\r\n  ],\r\n\r\n  getLSData(): SingleTimer[] {\r\n    const data = localStorage.getItem(this.LSKey);\r\n    if (!data) {\r\n      return this.defaultTimers;\r\n    }\r\n    const parsed = JSON.parse(data);\r\n\r\n    return !parsed.length ? this.defaultTimers : parsed;\r\n  },\r\n\r\n  setLSData(timers: SingleTimer[]) {\r\n    const data = JSON.stringify(timers);\r\n    localStorage.setItem(this.LSKey, data);\r\n  },\r\n\r\n  getTimersMaxId: (timers: SingleTimer[]) => {\r\n    const ids = timers.map((t) => t.timerId);\r\n    return Math.max(...ids);\r\n  }\r\n};\r\n\r\nexport default TimerStorage;\r\n","import { SingleTimer } from \"../components/types\";\nimport { DEFAULT_TIME_VALUES } from \"../config\";\nimport TimerStorage from \"../utils/handlers/TimerStorage\";\nimport PlocState, { Listener } from \"./PlocState\";\nimport { TimeValues } from \"./TimerPlocState\";\n\nexport interface TimerListState {\n  timerList: SingleTimer[]\n  latestId: number\n}\n\nconst defaultTimerListState: TimerListState = {\n  latestId: 0,\n  timerList: []\n};\n\nexport const getNewTimerList = (timerId: number, newTimeVals?: TimeValues, timerName?: string) => (s: TimerListState): TimerListState['timerList'] => {\n  let res: TimerListState['timerList'] = [...JSON.parse(JSON.stringify(s.timerList))];\n    \n  const timerIdx = s.timerList.findIndex(t => t.timerId === timerId);\n  if(timerIdx !== -1) {\n    // console.log(res[timerId]);\n    const timer = res[timerIdx];\n    res[timerIdx] = {\n      ...timer,\n      timeValues: newTimeVals || timer.timeValues,\n      timerName: timerName || timer.timerName,\n    };\n  }\n  return res;\n};\n\nclass TimerListPlocState extends PlocState<TimerListState> {\n  constructor(initS?:  Partial<TimerListState>) {\n    super({\n      ...defaultTimerListState,\n      ...initS,\n    });\n    this.addlistener(\n      this.listenToTimeListChanged,\n      s => [[...s.timerList]]\n    );\n  }\n\n  private makeNewTimer = (id: number, timeValues = DEFAULT_TIME_VALUES): SingleTimer => {\n    return ({\n      timerId: id,\n      timerName: '',\n      timeValues,\n    });\n  }\n\n  private listenToTimeListChanged: Listener<TimerListState> = (s) => {\n    TimerStorage.setLSData(s.timerList);\n    return ({\n      timerList: s.timerList,\n    });\n  }\n\n  handleAddTimer = (timeValues?: TimeValues) => {\n    this.updateState(s => {\n      const newId = s.latestId + 1;\n      return ({\n        latestId: newId,\n        timerList: [...s.timerList, this.makeNewTimer(newId, timeValues)]\n      });\n    });\n  }\n\n  handleRemoveTimer = (id: number) => {\n    this.updateState(s => ({\n      timerList: s.timerList.filter(t => t.timerId !== id)\n    }));\n  }\n\n  handleUpdateTimerListByFn(getNewTimerListFn: (params: any) => SingleTimer[]) {\n    this.updateState(s => {\n      return ({\n        timerList: getNewTimerListFn(s),\n      });\n    });\n  }\n}\n\nexport default TimerListPlocState;","import { useRef } from \"react\";\nimport TimerListPlocState, { getNewTimerList } from \"states/TimerListPlocState\";\nimport { TimeValues } from \"states/TimerPlocState\";\nimport usePlocState from \"states/usePlocState\";\nimport TimerStorage from \"utils/handlers/TimerStorage\";\n\nconst useTimerList = () => {\n  const timerListPloc = useRef(new TimerListPlocState({\n    latestId: TimerStorage.getTimersMaxId(\n      TimerStorage.getLSData()\n    ),\n    timerList: TimerStorage.getLSData()\n  }));\n  const timerListState = usePlocState(timerListPloc.current);\n\n  const {\n    handleAddTimer,\n    handleRemoveTimer,\n  } = timerListPloc.current;\n\n  const handleSetTimeValues = (id: number, timeValues: TimeValues) => {\n    timerListPloc.current.handleUpdateTimerListByFn(\n      getNewTimerList(id, timeValues)\n    );\n  };\n\n  const handleSetTimerName = (id: number, timerName?: string) => {\n    timerListPloc.current.handleUpdateTimerListByFn(\n      getNewTimerList(id, undefined, timerName)\n    );\n  };\n\n  return ({\n    timerListState,\n    handleAddTimer,\n    handleSetTimeValues,\n    handleSetTimerName,\n    handleRemoveTimer,\n  });\n};\n\nexport default useTimerList;","import TimerList from 'components/TimerList';\nimport useTimerList from 'hooks/useTimerList';\nimport React, { memo } from 'react';\nimport { TimerListContainerProps } from './types';\n\nconst TimerListContainer = (props: TimerListContainerProps) => {\n  const {\n    timerListState,\n    handleAddTimer,\n    handleRemoveTimer,\n    handleSetTimeValues,\n    handleSetTimerName,\n  } = useTimerList();\n\n  return (\n    <TimerList \n      {...props}\n      timerListData={timerListState.timerList}\n      onAddTimer={() => handleAddTimer()}\n      onDeleteTimer={handleRemoveTimer}\n      onTimeValuesChanged={handleSetTimeValues}\n      onTimerNameChanged={handleSetTimerName}\n    />\n  );\n};\n\nexport default memo(TimerListContainer);","import { AUDIO_PATH } from \"config\";\nimport PlocState from \"./PlocState\";\n\nexport type AudioNameType = \n  'maracaDance' |\n  'clearQuiz'|\n  'clearStage'|\n  'yahaha'|\n  'heyListen'\n\nconst AUDIO_NAME_URL_LIST: SingleAudioNameUrl[] = [\n  { name: 'maracaDance', url: AUDIO_PATH + '/maracadance.mp3'},\n  { name: 'clearQuiz', url: AUDIO_PATH + '/clear-quiz.mp3'},\n  { name: 'clearStage', url: AUDIO_PATH + '/clear-stage.mp3'},\n  { name: 'yahaha', url: AUDIO_PATH + '/yahaha.mp3'},\n  { name: 'heyListen', url: AUDIO_PATH + '/zelda-navi-listen.mp3'},\n];\n\nconst defaultPlayTimeout = 1500;\n\nexport interface SingleAudioNameUrl {\n  name: AudioNameType\n  url: string\n}\n\nexport interface AudioState {\n  repeatTimes?: number\n  playTimeout?: number // ms\n  volume: number\n  selectedAudio: AudioNameType\n  audioNameUrlList: SingleAudioNameUrl[]\n}\n\nexport const defaultAudioState: AudioState = {\n  volume: 0.4,\n  selectedAudio: AUDIO_NAME_URL_LIST[0].name,\n  audioNameUrlList: AUDIO_NAME_URL_LIST\n};\n\nclass AudioPlocState extends PlocState<AudioState> {\n  audio: HTMLAudioElement\n\n  constructor(initS?: Partial<AudioState>) {\n    super({\n      ...defaultAudioState,\n      ...initS,\n    });\n    this.audio = new Audio(this.getSelectedAudio());\n    this.audio.volume = this.state.volume;\n  }\n\n  private getAudioUrl = (name: string) => {\n    return this.state.audioNameUrlList.find(a => a.name === name);\n  }\n  private getSelectedAudio = () => {\n    return this.getAudioUrl(this.state.selectedAudio)?.url;\n  }\n\n  handleSetAudioUrl = (url: string) => {\n    this.audio.setAttribute('src', url);\n    this.audio.load();\n  }\n\n  handleAsyncPlay = () => {\n    this.audio.play();\n    return new Promise(res => {\n      this.audio.addEventListener('ended', () => {\n        // console.log('audio ended');\n        res('ended');\n      });\n    });\n  }\n\n  handlePlay = () => {\n    // this.audio.play();\n    this.handleRepeatPlay();\n    // setTimeout(() => {\n    //   this.handlePause();\n    // }, this.state.playTimeout || defaultPlayTimeout);\n  }\n\n  handleRepeatPlay = (audioOptions?: { volume?: number}) => {\n    (async () => {\n      console.log(audioOptions);\n      if(audioOptions?.volume) {\n        this.audio.volume = audioOptions?.volume;\n      }\n      const repeatTimes = this.state.repeatTimes || 3;\n      for await (const i of Array(repeatTimes)) {\n        await this.handleAsyncPlay();\n      }\n      this.handlePause();\n    })();\n  }\n\n  handlePause = () => {\n    this.audio.pause();\n  }\n}\n\nexport default AudioPlocState;","import AudioSelectorContainer from 'containers/AudioSelectorContainer';\nimport TimerListContainer from 'containers/TimerListContainer';\nimport React, { ChangeEventHandler, memo, useRef } from 'react';\nimport AudioPlocState from 'states/AudioPlocState';\nimport { context } from 'states/context';\nimport { ContextActionsEnum } from 'states/ContextPlocState';\nimport usePlocState from 'states/usePlocState';\nimport './styles.scss';\n\nexport interface UseWorkerTimerViewProps {\n  \n}\n\nconst useWorkerTimerView = () => {\n  const audioPloc = useRef(\n    new AudioPlocState({\n      volume: 0.7,\n      playTimeout: 3000,\n      repeatTimes: 3,\n      selectedAudio: 'heyListen'\n    })\n  );\n  const audioState = usePlocState(audioPloc.current);\n  const ctx = usePlocState(context);\n\n  const handleChangeVolume: ChangeEventHandler<HTMLInputElement> = (e) => {\n    context.dispatch({\n      type: ContextActionsEnum.SET_VOLUME,\n      payload: { volume: Number(e.target.value) / 100 }\n    });\n  };\n\n  return ({\n    ctx,\n    audioPloc,\n    audioState,\n    handleChangeVolume,\n  });\n};\n\nconst WorkerTimerView = () => {\n  const {\n    ctx,\n    audioPloc,\n    audioState,\n    handleChangeVolume,\n  } = useWorkerTimerView();\n\n  return (\n    <div className={'worker-timer-view--wrapper container'}>\n      <h1>{'Worker Timer!'}</h1>\n      <AudioSelectorContainer\n        selectorListData={audioState.audioNameUrlList.map(a => ({\n          text: a.name,\n          value: a.url,\n        }))} \n        onAudioValueChanged={audioPloc.current.handleSetAudioUrl}\n      />\n      <input \n        type={'range'}\n        id={'volume'}\n        name={'volume'}\n        min={'0'}\n        max={'100'}\n        step={'11'}\n        value={String(ctx.alarmVolume * 100)}\n        onChange={handleChangeVolume}\n      />\n      <TimerListContainer\n        onPlayAudio={audioPloc.current.handleRepeatPlay}\n      />\n    </div>\n  );\n};\n\nexport default memo(WorkerTimerView);","import './App.css';\nimport WorkerTimerView from 'view/WorkerTimerView';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <WorkerTimerView />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}