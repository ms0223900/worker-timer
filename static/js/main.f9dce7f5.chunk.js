(this["webpackJsonpworker-timer"]=this["webpackJsonpworker-timer"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(14),l=n.n(i),c=(n(21),n(22),n(2)),u=(n(23),n(1)),o=function(e){var t=e.value,n=e.selectorListData,r=e.onChangeSelect;return Object(u.jsxs)("div",{className:"audio-selector--wrapper",children:[Object(u.jsx)("h3",{children:"Audio: "}),Object(u.jsx)("select",{value:t,onChange:r,children:n.map((function(e){return Object(u.jsx)("option",{value:e.value,children:e.text},e.value)}))})]})},s=Object(r.memo)(o),d=n(8),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=Object(r.useRef)(t),a=Object(r.useState)(e),i=Object(d.a)(a,2),l=i[0],c=i[1],u=Object(r.useCallback)((function(e){c(e.target.value)}),[]);return n.current=t,Object(r.useEffect)((function(){n.current&&n.current(l)}),[l]),{val:l,handleSelect:u,setVal:c}},f={LSKey:"WORKER_TIMER_SETTINGS",setLSData:function(e){var t=Object(c.a)({},e),n=this.getLSData();n&&(t=Object(c.a)(Object(c.a)({},n),t)),localStorage.setItem(this.LSKey,JSON.stringify(t))},getLSData:function(){var e=localStorage.getItem(this.LSKey);if(e)return JSON.parse(e)}},h=function(e){var t,n,a=e.selectorListData,i=e.onAudioValueChanged,l=(null===(t=f.getLSData())||void 0===t?void 0:t.selectedAudio)||(null===(n=a[2])||void 0===n?void 0:n.value),o=m(l,i),d=o.val,h=o.handleSelect;return Object(r.useEffect)((function(){f.setLSData({selectedAudio:d})}),[d]),Object(u.jsx)(s,Object(c.a)(Object(c.a)({},e),{},{value:d,onChangeSelect:h}))},p=Object(r.memo)(h);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O=r.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),j=r.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"});function g(e,t){var n=e.title,a=e.titleId,i=b(e,["title","titleId"]);return r.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,O,j)}var S=r.forwardRef(g);n.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var T=r.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),w=r.createElement("path",{d:"M10 8.64L15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z"});function E(e,t){var n=e.title,a=e.titleId,i=x(e,["title","titleId"]);return r.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,T,w)}var L=r.forwardRef(E);n.p;function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var N=r.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),P=r.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"});function I(e,t){var n=e.title,a=e.titleId,i=k(e,["title","titleId"]);return r.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,N,P)}var C=r.forwardRef(I);n.p;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var M=r.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),D=r.createElement("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"});function z(e,t){var n=e.title,a=e.titleId,i=A(e,["title","titleId"]);return r.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,M,D)}var B=r.forwardRef(z);n.p;function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _=r.createElement("g",null,r.createElement("path",{d:"M0,0h24v24H0V0z",fill:"none"})),W=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M6,13c0-1.65,0.67-3.15,1.76-4.24L6.34,7.34C4.9,8.79,4,10.79,4,13c0,4.08,3.05,7.44,7,7.93v-2.02 C8.17,18.43,6,15.97,6,13z M20,13c0-4.42-3.58-8-8-8c-0.06,0-0.12,0.01-0.18,0.01l1.09-1.09L11.5,2.5L8,6l3.5,3.5l1.41-1.41 l-1.08-1.08C11.89,7.01,11.95,7,12,7c3.31,0,6,2.69,6,6c0,2.97-2.17,5.43-5,5.91v2.02C16.95,20.44,20,17.08,20,13z"})));function H(e,t){var n=e.title,a=e.titleId,i=U(e,["title","titleId"]);return r.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,_,W)}var K=r.forwardRef(H);n.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G=r.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Q=r.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"});function X(e,t){var n=e.title,a=e.titleId,i=q(e,["title","titleId"]);return r.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,G,Q)}var Y,Z=r.forwardRef(X),$=(n.p,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(e),n=Object(d.a)(t,2),a=n[0],i=n[1],l=function(){i((function(e){return!e}))},c=function(){a&&i(!1)};return{toggle:a,setToggle:i,handleToggle:l,handleCloseToggle:c}}),ee=function(e){return Object(u.jsx)("input",Object(c.a)(Object(c.a)({},e),{},{type:"number",style:{width:60,padding:4,fontSize:30,textAlign:"right",border:"none",backgroundColor:"#eee",borderRadius:6}}))},te=function(e){var t=e.isEdit,n=e.paused,r=e.timerName,a=e.timeStr,i=e.timeValues,l=e.onStartPause,c=e.onReset,o=e.onDeleteTimer,s=e.onEditTime,d=e.onToggleEditTime,m=e.onEditTimerName,f=$(!1),h=f.toggle,p=f.handleToggle,v=f.setToggle;return Object(u.jsx)("div",{style:{paddingBottom:8},children:Object(u.jsxs)("div",{className:"timer-wrapper",children:[Object(u.jsxs)("div",{className:"timer-name--wrapper",children:[Object(u.jsxs)("div",{onClick:p,children:[!r&&!h&&Object(u.jsx)("span",{className:"input-timer-name-hint",children:"Double click to add name"}),h?Object(u.jsx)("input",{autoFocus:!0,value:r,placeholder:"Timer Name",onChange:m,onBlur:function(){return v(!1)}}):Object(u.jsx)("p",{children:r})]}),Object(u.jsx)("div",{onDoubleClick:d(!0),children:t?Object(u.jsxs)("form",{style:{display:"flex",alignItems:"center"},onChange:s,children:[Object(u.jsx)(ee,{name:"mins",value:String(i.mins)}),Object(u.jsx)("div",{style:{padding:"0px 4px",fontSize:30,fontWeight:"bolder"},children:" : "}),Object(u.jsx)(ee,{name:"secs",value:String(i.secs)}),Object(u.jsx)(Z,{onClick:d(!1)})]}):Object(u.jsx)("h1",{children:a})})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)("button",{className:"timer-btn",onClick:function(){return l()},children:n?Object(u.jsx)(L,{}):Object(u.jsx)(C,{})}),Object(u.jsx)("button",{className:"timer-btn",onClick:c,children:Object(u.jsx)(K,{})}),Object(u.jsx)("button",{className:"timer-btn",onClick:o,children:Object(u.jsx)(B,{})})]})]})})},ne="/worker-timer/assets/sounds";!function(e){e.STOP="stop",e.START="start",e.TICK_FROM_WORKER="tick-from-worker"}(Y||(Y={}));var re,ae={mins:5,secs:0},ie=n(3),le=n(7),ce=n(5),ue=n(4),oe=n(6),se=function(){function e(t){Object(ie.a)(this,e),this._state=void 0,this.listeners=void 0,this._state=t,this.listeners=[]}return Object(le.a)(e,[{key:"state",get:function(){return this._state}},{key:"checkShouldUpdateByListener",value:function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n],a=t(this.state)[n];if(JSON.stringify(r)!==JSON.stringify(a))return!0}return!1}},{key:"getNewState",value:function(e){return"function"===typeof e?e(this.state):e}},{key:"updateState",value:function(e){var t=this,n=this.getNewState(e);this._state=Object(c.a)(Object(c.a)({},this.state),n),this.listeners.forEach((function(e,n){if(e.compareValFn&&!t.checkShouldUpdateByListener(e.compareVal,e.compareValFn))return;var r=e.listener(t.state);r&&"object"===typeof r&&(t._state=Object(c.a)(Object(c.a)({},t.state),r)),e.compareValFn&&(e.compareVal=Object(oe.a)(e.compareValFn(t.state)))}))}},{key:"addlistener",value:function(e,t){var n={listener:e,compareValFn:t,compareVal:t?Object(oe.a)(t(this.state)):[]};this.listeners.push(n)}},{key:"removeListener",value:function(e){var t=this.listeners.findIndex((function(t){return t.listener===e}));-1!==t&&this.listeners.splice(t,1)}}]),e}(),de={alarmVolume:.7};!function(e){e.SET_VOLUME="SET_VOLUME"}(re||(re={}));var me=new(function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(e){var r,a;return Object(ie.a)(this,n),(a=t.call(this,Object(c.a)(Object(c.a)(Object(c.a)({},de),e),{},{alarmVolume:(null===(r=f.getLSData())||void 0===r?void 0:r.volume)||de.alarmVolume}))).addlistener((function(e){f.setLSData({volume:e.alarmVolume})}),(function(e){return[e.alarmVolume]})),a}return Object(le.a)(n,[{key:"dispatch",value:function(e){this.updateState((function(t){return function(e,t){switch(t.type){case re.SET_VOLUME:return Object(c.a)(Object(c.a)({},e),{},{alarmVolume:t.payload.volume});default:return e}}(t,e)}))}}]),n}(se)),fe=n(10),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<10?"0".concat(e):e},n=Math.floor(e/60),r=e%60;return"".concat(t(n),":").concat(t(r))},pe=function(e,t){return 60*e.mins+e.secs-t},ve={timerName:"",remainSecs:0,passedSecs:0,paused:!0,timeValues:{mins:1,secs:0},parsedMinSecStr:""},be=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(e){var r;return Object(ie.a)(this,n),(r=t.call(this,Object(c.a)(Object(c.a)({},ve),e))).timerWorker=new Worker("/worker-timer/js/worker.js"),r.handleResetTimer=function(){console.log("reset"),r.handlePauseTimer(),r.updateState((function(e){return{passedSecs:0}}))},r.handleStartTimer=function(){console.log("timer started"),r.updateState((function(e){return{paused:!1}})),r.timerWorker.postMessage(Y.START)},r.handleStartOrPause=function(e){var t=!r.state.paused;"boolean"===typeof e&&(t=e),t?r.handlePauseTimer():r.handleStartTimer()},r.handleEditTimeVals=function(e,t){r.updateState((function(n){return{timeValues:Object(c.a)(Object(c.a)({},n.timeValues),{},Object(fe.a)({},e,Number(t)<0?0:Number(t)))}}))},r.handleEditTimerName=function(e){r.updateState((function(t){return{timerName:e}}))},r.updateByRemainSecs=function(e){e.remainSecs<0&&!e.paused&&(r.handleResetTimer(),e.onTimeupCb&&e.onTimeupCb())},r.updateByTimerWorker(),r.updateState((function(e){return{remainSecs:pe(e.timeValues,e.passedSecs)}})),r.updateState((function(e){return{parsedMinSecStr:he(e.remainSecs)}})),r.addlistener((function(e){var t=pe(e.timeValues,e.passedSecs);return{remainSecs:t,parsedMinSecStr:he(t)}}),(function(e){return[e.passedSecs,e.timeValues]})),r.addlistener(r.updateByRemainSecs,(function(e){return[e.remainSecs,e.paused]})),r}return Object(le.a)(n,[{key:"handlePauseTimer",value:function(){console.log("timer paused"),this.updateState((function(e){return{paused:!0}})),this.timerWorker.postMessage(Y.STOP)}},{key:"handleAddPassedSecs",value:function(){!this.state.paused&&this.updateState((function(e){return{passedSecs:e.passedSecs+1}}))}},{key:"updateByTimerWorker",value:function(){var e=this,t=function(t){t.data===Y.TICK_FROM_WORKER&&e.handleAddPassedSecs()};return this.timerWorker.addEventListener("message",t),function(){e.timerWorker.removeEventListener("message",t),e.timerWorker.postMessage(Y.STOP)}}}]),n}(se),Oe=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(ie.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleToggle=function(){e.updateState((function(e){return{toggle:!e.toggle}}))},e.setToggle=function(t){e.updateState({toggle:t})},e}return n}(se),je=function(e){var t=Object(r.useState)(e.state),n=Object(d.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){var t=function(e){i(e)};return e.addlistener(t),function(){return e.removeListener(t)}}),[e]),a},ge=function(e){var t=e.timerName,n=e.timerId,a=e.initTimeVals,i=e.onTimeValuesChanged,l=e.onTimerNameChanged,u=e.onPlayAudio,o=je(me),s=Object(r.useRef)(new be({timerName:t,timeValues:a||ae,onTimeupCb:function(){return u({volume:me.state.alarmVolume})}})),d=je(s.current),m=Object(r.useRef)(new Oe({toggle:!1})),f=je(m.current),h=s.current.handleStartOrPause,p=Object(r.useCallback)((function(e){i&&i(n,Object(c.a)({},e))}),[i,n]);return Object(r.useEffect)((function(){var e=function(e){console.log(e.timerName),l(n,e.timerName)};return s.current.addlistener(e,(function(e){return[e.timerName]})),function(){return s.current.removeListener(e)}}),[l,n]),Object(r.useEffect)((function(){var e=function(e){e.toggle||p(s.current.state.timeValues)};return m.current.addlistener(e,(function(e){return[e.toggle]})),function(){return m.current.removeListener(e)}}),[p]),{ctxState:o,toggleState:f,timerState:d,handleEditTime:function(e){s.current.handleEditTimeVals(e.target.name,e.target.value)},handleEditTimerName:function(e){s.current.handleEditTimerName(e.target.value)},handleStartPause:h,handleReset:s.current.handleResetTimer,handleToggleEditTime:m.current.setToggle}},Se=function(e){var t=ge(e),n=t.ctxState,r=t.toggleState,a=t.timerState,i=t.handleEditTime,l=t.handleEditTimerName,c=t.handleReset,o=t.handleStartPause,s=t.handleToggleEditTime;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{style:{display:"none"},children:n.alarmVolume}),Object(u.jsx)(te,{timerName:a.timerName,isEdit:r.toggle,paused:a.paused,timeStr:a.parsedMinSecStr,timeValues:a.timeValues,onEditTime:i,onEditTimerName:l,onStartPause:o,onReset:c,onDeleteTimer:e.onDeleteTimer,onToggleEditTime:function(e){return function(){return s(e)}}})]})},ye=Object(r.memo)(Se),xe=function(e){var t=e.timerListData,n=e.onAddTimer,r=e.onDeleteTimer,a=e.onTimerNameChanged,i=e.onTimeValuesChanged,l=e.onPlayAudio;return Object(u.jsxs)(u.Fragment,{children:[t.map((function(e){var t=e.timerId,n=e.timeValues,c=e.timerName;return Object(u.jsx)(ye,{timerId:t,timerName:c,initTimeVals:n,onDeleteTimer:function(){return r(t)},onTimeValuesChanged:i,onTimerNameChanged:a,onPlayAudio:l},t)})),Object(u.jsx)("button",{className:"timer-btn",onClick:n,children:Object(u.jsx)(S,{})})]})},Te=Object(r.memo)(xe),we={LSKey:"worker-timer",defaultTimers:[{timerId:0,timeValues:ae}],getLSData:function(){var e=localStorage.getItem(this.LSKey);if(!e)return this.defaultTimers;var t=JSON.parse(e);return t.length?t:this.defaultTimers},setLSData:function(e){var t=JSON.stringify(e);localStorage.setItem(this.LSKey,t)},getTimersMaxId:function(e){var t=e.map((function(e){return e.timerId}));return Math.max.apply(Math,Object(oe.a)(t))}},Ee={latestId:0,timerList:[]},Le=function(e,t,n){return function(r){var a=Object(oe.a)(JSON.parse(JSON.stringify(r.timerList))),i=r.timerList.findIndex((function(t){return t.timerId===e}));if(-1!==i){var l=a[i];a[i]=Object(c.a)(Object(c.a)({},l),{},{timeValues:t||l.timeValues,timerName:n||l.timerName})}return a}},Ve=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(e){var r;return Object(ie.a)(this,n),(r=t.call(this,Object(c.a)(Object(c.a)({},Ee),e))).makeNewTimer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return{timerId:e,timerName:"",timeValues:t}},r.listenToTimeListChanged=function(e){return we.setLSData(e.timerList),{timerList:e.timerList}},r.handleAddTimer=function(e){r.updateState((function(t){var n=t.latestId+1;return{latestId:n,timerList:[].concat(Object(oe.a)(t.timerList),[r.makeNewTimer(n,e)])}}))},r.handleRemoveTimer=function(e){r.updateState((function(t){return{timerList:t.timerList.filter((function(t){return t.timerId!==e}))}}))},r.addlistener(r.listenToTimeListChanged,(function(e){return[Object(oe.a)(e.timerList)]})),r}return Object(le.a)(n,[{key:"handleUpdateTimerListByFn",value:function(e){this.updateState((function(t){return{timerList:e(t)}}))}}]),n}(se),ke=function(){var e=Object(r.useRef)(new Ve({latestId:we.getTimersMaxId(we.getLSData()),timerList:we.getLSData()})),t=je(e.current),n=e.current;return{timerListState:t,handleAddTimer:n.handleAddTimer,handleSetTimeValues:function(t,n){e.current.handleUpdateTimerListByFn(Le(t,n))},handleSetTimerName:function(t,n){e.current.handleUpdateTimerListByFn(Le(t,void 0,n))},handleRemoveTimer:n.handleRemoveTimer}},Ne=function(e){var t=ke(),n=t.timerListState,r=t.handleAddTimer,a=t.handleRemoveTimer,i=t.handleSetTimeValues,l=t.handleSetTimerName;return Object(u.jsx)(Te,Object(c.a)(Object(c.a)({},e),{},{timerListData:n.timerList,onAddTimer:function(){return r()},onDeleteTimer:a,onTimeValuesChanged:i,onTimerNameChanged:l}))},Pe=Object(r.memo)(Ne),Ie=n(13),Ce=n.n(Ie),Re=n(15),Ae=n(16),Me=[{name:"maracaDance",url:ne+"/maracadance.mp3"},{name:"clearQuiz",url:ne+"/clear-quiz.mp3"},{name:"clearStage",url:ne+"/clear-stage.mp3"},{name:"yahaha",url:ne+"/yahaha.mp3"},{name:"heyListen",url:ne+"/zelda-navi-listen.mp3"}],De={volume:.4,selectedAudio:Me[0].name,audioNameUrlList:Me},ze=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(e){var r;return Object(ie.a)(this,n),(r=t.call(this,Object(c.a)(Object(c.a)({},De),e))).audio=void 0,r.getAudioUrl=function(e){return r.state.audioNameUrlList.find((function(t){return t.name===e}))},r.getSelectedAudio=function(){var e;return null===(e=r.getAudioUrl(r.state.selectedAudio))||void 0===e?void 0:e.url},r.handleSetAudioUrl=function(e){r.audio.setAttribute("src",e),r.audio.load()},r.handleAsyncPlay=function(){return r.audio.play(),new Promise((function(e){r.audio.addEventListener("ended",(function(){e("ended")}))}))},r.handlePlay=function(){r.handleRepeatPlay()},r.handleRepeatPlay=function(e){Object(Re.a)(Ce.a.mark((function t(){var n,a,i,l,c,u,o;return Ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),(null===e||void 0===e?void 0:e.volume)&&(r.audio.volume=null===e||void 0===e?void 0:e.volume),n=r.state.repeatTimes||3,a=!0,i=!1,t.prev=5,c=Object(Ae.a)(Array(n));case 7:return t.next=9,c.next();case 9:return u=t.sent,a=u.done,t.next=13,u.value;case 13:if(o=t.sent,a){t.next=21;break}return o,t.next=18,r.handleAsyncPlay();case 18:a=!0,t.next=7;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(5),i=!0,l=t.t0;case 27:if(t.prev=27,t.prev=28,a||null==c.return){t.next=32;break}return t.next=32,c.return();case 32:if(t.prev=32,!i){t.next=35;break}throw l;case 35:return t.finish(32);case 36:return t.finish(27);case 37:r.handlePause();case 38:case"end":return t.stop()}}),t,null,[[5,23,27,37],[28,,32,36]])})))()},r.handlePause=function(){r.audio.pause()},r.audio=new Audio(r.getSelectedAudio()),r.audio.volume=r.state.volume,r}return n}(se),Be=(n(26),function(){var e=function(){var e=Object(r.useRef)(new ze({volume:.7,playTimeout:3e3,repeatTimes:3,selectedAudio:"heyListen"})),t=je(e.current);return{ctx:je(me),audioPloc:e,audioState:t,handleChangeVolume:function(e){me.dispatch({type:re.SET_VOLUME,payload:{volume:Number(e.target.value)/100}})}}}(),t=e.ctx,n=e.audioPloc,a=e.audioState,i=e.handleChangeVolume;return Object(u.jsxs)("div",{className:"worker-timer-view--wrapper container",children:[Object(u.jsx)("h1",{children:"Worker Timer!"}),Object(u.jsx)(p,{selectorListData:a.audioNameUrlList.map((function(e){return{text:e.name,value:e.url}})),onAudioValueChanged:n.current.handleSetAudioUrl}),Object(u.jsx)("input",{type:"range",id:"volume",name:"volume",min:"0",max:"100",step:"11",value:String(100*t.alarmVolume),onChange:i}),Object(u.jsx)(Pe,{onPlayAudio:n.current.handleRepeatPlay})]})}),Fe=Object(r.memo)(Be);var Ue=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(Fe,{})})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),r(e),a(e),i(e),l(e)}))};l.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(Ue,{})}),document.getElementById("root")),_e()}},[[27,1,2]]]);
//# sourceMappingURL=main.f9dce7f5.chunk.js.map