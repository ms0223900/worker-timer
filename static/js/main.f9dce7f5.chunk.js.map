{"version":3,"sources":["components/AudioSelector.tsx","utils/functions/useSelect.ts","utils/handlers/SettingsStorage.ts","containers/AudioSelectorContainer.tsx","static/add_black_24dp.svg","static/play_arrow_black_24dp.svg","static/pause_black_24dp.svg","static/delete_black_24dp.svg","static/restart_alt_black_24dp.svg","static/done_black_24dp.svg","config.ts","utils/functions/useToggle.ts","components/TimerItem.tsx","states/ContextPlocState.ts","states/PlocState.ts","states/context.ts","utils/functions/parseSecsToMinSec.ts","states/TimerPlocState.ts","states/TogglePlocState.ts","states/usePlocState.ts","hooks/useWorkerTimer.ts","containers/TimerItemContainer.tsx","components/TimerList.tsx","utils/handlers/TimerStorage.ts","states/TimerListPlocState.ts","hooks/useTimerList.ts","containers/TimerListContainer.tsx","states/AudioPlocState.ts","view/WorkerTimerView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["AudioSelector","value","selectorListData","onChangeSelect","className","onChange","map","s","text","memo","useSelect","initSelectVal","onValChanged","handleValChanged","useRef","useState","val","setVal","handleSelect","useCallback","e","target","current","useEffect","SettingsStorage","LSKey","setLSData","payload","originData","origin","this","getLSData","localStorage","setItem","JSON","stringify","data","getItem","parse","AudioSelectorContainer","props","onAudioValueChanged","selectedAudio","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","_ref3","SvgAddBlack24Dp","_ref","svgRef","title","titleId","xmlns","height","viewBox","width","ref","id","ForwardRef","SvgPlayArrowBlack24Dp","SvgPauseBlack24Dp","SvgDeleteBlack24Dp","SvgRestartAltBlack24Dp","enableBackground","SvgDoneBlack24Dp","WORKER_MESSAGES","useToggle","initToggle","toggle","setToggle","handleToggle","t","handleCloseToggle","TimerInput","type","style","padding","fontSize","textAlign","border","backgroundColor","borderRadius","TimerItem","isEdit","paused","timerName","timeStr","timeValues","onStartPause","onReset","onDeleteTimer","onEditTime","onToggleEditTime","onEditTimerName","isEditName","paddingBottom","onClick","autoFocus","placeholder","onBlur","onDoubleClick","display","alignItems","name","String","mins","fontWeight","secs","AUDIO_PATH","process","ContextActionsEnum","DEFAULT_TIME_VALUES","PlocState","initState","_state","listeners","prevState","getStateFn","prevVal","newVal","state","newState","_newState","getNewState","forEach","l","compareValFn","checkShouldUpdateByListener","compareVal","listenerReturnVal","listener","singleListener","push","listenerIdx","findIndex","splice","defaultContextState","alarmVolume","context","initS","volume","addlistener","action","updateState","SET_VOLUME","reducer","parseSecsToMinSec","addZero","num","Math","floor","_secs","getRemainSecs","timeVals","passedSecs","initTimerState","remainSecs","parsedMinSecStr","TimerPlocState","timerWorker","Worker","handleResetTimer","console","log","handlePauseTimer","handleStartTimer","postMessage","START","handleStartOrPause","_pause","newPaused","handleEditTimeVals","Number","handleEditTimerName","tName","updateByRemainSecs","onTimeupCb","updateByTimerWorker","STOP","tick","TICK_FROM_WORKER","handleAddPassedSecs","addEventListener","removeEventListener","TogglePlocState","_toggle","usePlocState","ploc","setState","removeListener","useWorkerTimer","options","timerId","initTimeVals","onTimeValuesChanged","onTimerNameChanged","onPlayAudio","ctxState","timerPloc","timerState","togglePloc","toggleState","handleStartPause","handleTimeValueChanged","_timeValues","listner","handleEditTime","handleReset","handleToggleEditTime","TimerItemContainer","TimerList","timerListData","onAddTimer","TimerStorage","defaultTimers","parsed","timers","getTimersMaxId","ids","max","defaultTimerListState","latestId","timerList","getNewTimerList","newTimeVals","res","timerIdx","timer","TimerListPlocState","makeNewTimer","listenToTimeListChanged","handleAddTimer","newId","handleRemoveTimer","filter","getNewTimerListFn","useTimerList","timerListPloc","timerListState","handleSetTimeValues","handleUpdateTimerListByFn","handleSetTimerName","undefined","TimerListContainer","AUDIO_NAME_URL_LIST","url","defaultAudioState","audioNameUrlList","AudioPlocState","audio","getAudioUrl","find","a","getSelectedAudio","handleSetAudioUrl","setAttribute","load","handleAsyncPlay","play","Promise","handlePlay","handleRepeatPlay","audioOptions","repeatTimes","Array","handlePause","pause","Audio","WorkerTimerView","audioPloc","playTimeout","audioState","ctx","handleChangeVolume","dispatch","useWorkerTimerView","min","step","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9dce7f5.chunk.js","sourcesContent":["import React, { memo } from 'react';\nimport { AudioSelectorProps } from './types';\nimport './styles.scss';\n\nconst AudioSelector = ({\n  value,\n  selectorListData,\n  onChangeSelect,\n}: AudioSelectorProps) => {\n  return (\n    <div className={'audio-selector--wrapper'}>\n      <h3>{'Audio: '}</h3>\n      <select value={value} onChange={onChangeSelect}>\n        {selectorListData.map(s => (\n          <option key={s.value} value={s.value}>\n            {s.text}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nexport default memo(AudioSelector);","import { Callback } from \"common-types\";\nimport { ChangeEvent, useCallback, useEffect, useRef, useState } from \"react\";\n\nconst useSelect = (initSelectVal = '', onValChanged?: Callback) => {\n  const handleValChanged = useRef(onValChanged);\n  const [val, setVal] = useState(initSelectVal);\n\n  const handleSelect = useCallback((e: ChangeEvent<any>) => {\n    setVal(e.target.value);\n  }, []);\n\n  handleValChanged.current = onValChanged;\n  useEffect(() => {\n    handleValChanged.current && handleValChanged.current(val);\n  }, [val]);\n\n  return ({\n    val,\n    handleSelect,\n    setVal,\n  });\n};\n\nexport default useSelect;","export interface WorkerTimerSettings {\n  volume: number\n  selectedAudio: string\n}\n\nconst SettingsStorage = {\n  LSKey: 'WORKER_TIMER_SETTINGS',\n  \n  setLSData(payload: Partial<WorkerTimerSettings>) {\n    let originData = {\n      ...payload\n    };\n    const origin = this.getLSData();\n    if(origin) {\n      originData = {\n        ...origin,\n        ...originData,\n      };\n    }\n    localStorage.setItem(this.LSKey, JSON.stringify(originData));\n  },\n\n  getLSData(): WorkerTimerSettings | undefined {\n    const data = localStorage.getItem(this.LSKey);\n    if(!data) return undefined;\n    return JSON.parse(data);\n  }\n};\n\nexport default SettingsStorage;","import { SingleSelectorValText } from 'common-types';\nimport AudioSelector from 'components/AudioSelector';\nimport { AudioSelectorProps } from 'components/types';\nimport React, { memo, useEffect } from 'react';\nimport useSelect from 'utils/functions/useSelect';\nimport SettingsStorage from 'utils/handlers/SettingsStorage';\n\nexport interface AudioSelectorContainerProps extends Pick<AudioSelectorProps, 'selectorListData'> {\n  onAudioValueChanged: (url: string) => any\n}\n\nconst AudioSelectorContainer = (props: AudioSelectorContainerProps) => {\n  const {\n    selectorListData,\n    onAudioValueChanged,\n  } = props;\n\n  const initSelectVal = SettingsStorage.getLSData()?.selectedAudio || selectorListData[2]?.value;\n\n  const {\n    val,\n    handleSelect,\n  } = useSelect(initSelectVal, onAudioValueChanged);\n\n  useEffect(() => {\n    SettingsStorage.setLSData({\n      selectedAudio: val,\n    });\n  }, [val]);\n\n  return (\n    <AudioSelector\n      {...props}\n      value={val}\n      onChangeSelect={handleSelect}\n    />\n  );\n};\n\nexport default memo(AudioSelectorContainer);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nfunction SvgAddBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/add_black_24dp.376e9b6a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 8.64L15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z\"\n});\n\nfunction SvgPlayArrowBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayArrowBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/play_arrow_black_24dp.2cbf407a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n});\n\nfunction SvgPauseBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPauseBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/pause_black_24dp.95877413.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z\"\n});\n\nfunction SvgDeleteBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeleteBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/delete_black_24dp.1129c53a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,0h24v24H0V0z\",\n  fill: \"none\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6,13c0-1.65,0.67-3.15,1.76-4.24L6.34,7.34C4.9,8.79,4,10.79,4,13c0,4.08,3.05,7.44,7,7.93v-2.02 C8.17,18.43,6,15.97,6,13z M20,13c0-4.42-3.58-8-8-8c-0.06,0-0.12,0.01-0.18,0.01l1.09-1.09L11.5,2.5L8,6l3.5,3.5l1.41-1.41 l-1.08-1.08C11.89,7.01,11.95,7,12,7c3.31,0,6,2.69,6,6c0,2.97-2.17,5.43-5,5.91v2.02C16.95,20.44,20,17.08,20,13z\"\n})));\n\nfunction SvgRestartAltBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRestartAltBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/restart_alt_black_24dp.7cc6c8f0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n});\n\nfunction SvgDoneBlack24Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    fill: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDoneBlack24Dp);\nexport default __webpack_public_path__ + \"static/media/done_black_24dp.6a318b8d.svg\";\nexport { ForwardRef as ReactComponent };","import { TimeValues } from \"./states/TimerPlocState\";\n\nexport const WORKER_PATH = process.env.PUBLIC_URL + '/js/worker.js';\nexport const AUDIO_PATH = process.env.PUBLIC_URL + '/assets/sounds';\n\nexport enum WORKER_MESSAGES {\n  'STOP' = 'stop',\n  'START' = 'start',\n  'TICK_FROM_WORKER' = 'tick-from-worker'\n}\n\nexport const DEFAULT_TIME_VALUES: TimeValues = {\n  mins: 5,\n  secs: 0,\n};","\r\nimport { Callback } from \"common-types\";\r\nimport { useState } from \"react\";\r\n\r\nexport interface UseToggleStates {\r\n  toggle: boolean\r\n  setToggle: (t: boolean) => any\r\n  handleCloseToggle: Callback\r\n  handleToggle: Callback\r\n}\r\n\r\nconst useToggle = (initToggle: boolean=false): UseToggleStates => {\r\n  const [toggle, setToggle] = useState(initToggle);\r\n\r\n  const handleToggle = () => {\r\n    setToggle(t => !t);\r\n  };\r\n\r\n  const handleCloseToggle = () => {\r\n    toggle && setToggle(false);\r\n  };\r\n  \r\n  return { toggle, setToggle, handleToggle, handleCloseToggle };\r\n};\r\n\r\nexport default useToggle;","import { ReactComponent as StartIcon } from \"../static/play_arrow_black_24dp.svg\";\nimport { ReactComponent as PauseIcon } from \"../static/pause_black_24dp.svg\";\nimport { ReactComponent as DeleteIcon } from \"../static/delete_black_24dp.svg\";\nimport { ReactComponent as ResetIcon } from \"../static/restart_alt_black_24dp.svg\";\nimport { ReactComponent as DoneIcon } from \"../static/done_black_24dp.svg\";\nimport { TimerItemProps } from \"./types\";\nimport useToggle from \"utils/functions/useToggle\";\n\nconst TimerInput = (props: any) => (\n  <input\n    {...props}\n    type=\"number\"\n    style={{\n      width: 60,\n      padding: 4,\n      fontSize: 30,\n      textAlign: \"right\",\n      border: \"none\",\n      backgroundColor: \"#eee\",\n      borderRadius: 6\n    }}\n  />\n);\n\nconst TimerItem = ({\n  isEdit,\n  paused,\n  timerName,\n  timeStr,\n  timeValues,\n  onStartPause,\n  onReset,\n  onDeleteTimer,\n  onEditTime,\n  onToggleEditTime,\n  onEditTimerName,\n}: TimerItemProps) => {\n  const {\n    toggle: isEditName,\n    handleToggle,\n    setToggle,\n  } = useToggle(false);\n  return (\n    <div\n      style={{\n        paddingBottom: 8\n      }}\n    >\n      <div className={\"timer-wrapper\"}>\n        <div className={'timer-name--wrapper'}>\n          <div onClick={handleToggle}>\n            {(!timerName && !isEditName) && (\n              <span className={'input-timer-name-hint'}>\n                {'Double click to add name'}\n              </span>\n            )}\n            {isEditName ? (\n              <input\n                autoFocus={true}\n                value={timerName}\n                placeholder={'Timer Name'}\n                onChange={onEditTimerName}\n                onBlur={() => setToggle(false)} \n              />\n            ): (\n              <p>{timerName}</p>\n            )}\n          </div>\n          <div onDoubleClick={onToggleEditTime(true)}>\n            {isEdit ? (\n              <form\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\"\n                }}\n                onChange={onEditTime}\n              >\n                <TimerInput name=\"mins\" value={String(timeValues.mins)} />\n                <div\n                  style={{\n                    padding: \"0px 4px\",\n                    fontSize: 30,\n                    fontWeight: \"bolder\"\n                  }}\n                >\n                  {\" : \"}\n                </div>\n                <TimerInput name=\"secs\" value={String(timeValues.secs)} />\n                <DoneIcon onClick={onToggleEditTime(false)} />\n              </form>\n            ) : (\n              <h1>{timeStr}</h1>\n            )}\n          </div>\n        </div>\n        <div className={\"button-wrapper\"}>\n          <button className={\"timer-btn\"} onClick={() => onStartPause()}>\n            {paused ? <StartIcon /> : <PauseIcon />}\n          </button>\n          <button className={\"timer-btn\"} onClick={onReset}>\n            <ResetIcon />\n          </button>\n          <button className={\"timer-btn\"} onClick={onDeleteTimer}>\n            <DeleteIcon />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TimerItem;\n","import SettingsStorage from \"utils/handlers/SettingsStorage\";\nimport PlocState from \"./PlocState\";\n\nexport interface ContextState {\n  alarmVolume: number\n}\n\nexport const defaultContextState: ContextState = {\n  alarmVolume: 0.7,\n};\n\nexport enum ContextActionsEnum {\n  'SET_VOLUME' = 'SET_VOLUME'\n}\n\ntype SetVolumeAction = {\n  type: ContextActionsEnum.SET_VOLUME,\n  payload: { volume: number }\n}\n\ntype ContextAction = \n  SetVolumeAction\n\n\nconst reducer = (state: ContextState, action: ContextAction): ContextState => {\n  switch (action.type) {\n    case ContextActionsEnum.SET_VOLUME:\n      return ({\n        ...state,\n        alarmVolume: action.payload.volume,\n      });\n    default:\n      return state;\n  }\n};\n\nclass ContextPlocState extends PlocState<ContextState> {\n  constructor(initS?: Partial<ContextState>) {\n    super({\n      ...defaultContextState,\n      ...initS,\n      alarmVolume: \n        SettingsStorage.getLSData()?.volume || \n        defaultContextState.alarmVolume\n    });\n    this.addlistener(s => {\n      SettingsStorage.setLSData({ volume: s.alarmVolume, });\n    }, s => [s.alarmVolume]);\n  }\n\n  dispatch(action: ContextAction) {\n    this.updateState(s => reducer(s, action));\n  }\n}\n\nexport default ContextPlocState;","/* eslint-disable no-underscore-dangle */\nexport type Listener<State> = (state: State) => Partial<State> | void | undefined\ninterface GetNewStateFn<State> {\n  (s: State): Partial<State>\n}\n\nexport interface SingleListenerWithCompare<State> {\n  compareVal: State[keyof State][]\n  compareValFn?: (s: State) => State[keyof State][]\n  listener: Listener<State>\n}\n\nclass PlocState<State> {\n  private _state: State\n\n  get state(): State {\n    return this._state;\n  }\n\n  listeners: (SingleListenerWithCompare<State>)[]\n\n  constructor(initState: State) {\n    this._state = initState;\n    this.listeners = [];\n  }\n\n  private checkShouldUpdateByListener(prevState: any[], getStateFn: (s: State) => any): boolean {\n    for (let i = 0; i < prevState.length; i += 1) {\n      const prevVal = prevState[i];\n      const newVal = getStateFn(this.state)[i];\n      // console.log('checkShouldUpdateByListener: ', prevVal, newVal);\n      if (JSON.stringify(prevVal) !== JSON.stringify(newVal)) return true;\n    }\n    return false;\n  }\n\n  private getNewState<NewState extends Partial<State> | GetNewStateFn<State>>(newState: NewState): Partial<State> {\n    const _newState = (typeof newState === 'function' ? (newState as GetNewStateFn<State>)(this.state) : newState) as Partial<State>;\n    return _newState;\n  }\n\n  updateState<NewState extends Partial<State> | GetNewStateFn<State>>(newState: NewState): void {\n    const _newState = this.getNewState(newState);\n\n    this._state = { ...this.state, ..._newState };\n    this.listeners.forEach((l, i) => {\n      if (l.compareValFn) {\n        const shouldUpdateByCompareVal = this.checkShouldUpdateByListener(l.compareVal, l.compareValFn);\n        if (!shouldUpdateByCompareVal) return;\n      }\n\n      const listenerReturnVal = l.listener(this.state);\n      if (listenerReturnVal && typeof listenerReturnVal === 'object') {\n        this._state = {\n          ...this.state,\n          ...listenerReturnVal,\n        };\n      }\n      if (l.compareValFn) { l.compareVal = [...l.compareValFn(this.state)]; }\n    });\n  }\n\n  addlistener(listener: Listener<State>, compareValFn?: (s: State) => State[keyof State][]): void {\n    const singleListener: SingleListenerWithCompare<State> = {\n      listener,\n      compareValFn,\n      compareVal: compareValFn ? [...compareValFn(this.state)] : [],\n    };\n    // console.log(singleListener);\n    this.listeners.push(singleListener);\n  }\n\n  removeListener(listener: Listener<State>): void {\n    const listenerIdx = this.listeners.findIndex((l) => l.listener === listener);\n    if (listenerIdx !== -1) {\n      this.listeners.splice(listenerIdx, 1);\n    }\n  }\n}\n\nexport default PlocState;\n","import ContextPlocState from \"./ContextPlocState\";\n\nexport const context = new ContextPlocState();","\nconst parseSecsToMinSec = (secs = 0) => {\n  const addZero = (num = 0) => (num < 10 ? `0${num}` : num);\n  const mins = Math.floor(secs / 60);\n  const _secs = secs % 60;\n  return `${addZero(mins)}:${addZero(_secs)}`;\n};\n\nexport default parseSecsToMinSec;","import { Callback, SetTimeValuesFn } from \"common-types\";\nimport { WORKER_MESSAGES, WORKER_PATH } from \"../config\";\nimport parseSecsToMinSec from \"../utils/functions/parseSecsToMinSec\";\nimport PlocState, { Listener, } from \"./PlocState\";\n\nconst getRemainSecs = (timeVals: TimeValues, passedSecs: number) => (\n  timeVals.mins * 60 + timeVals.secs - passedSecs\n);\n\nexport interface TimeValues {\n  mins: number;\n  secs: number;\n}\n\nexport interface TimerState {\n  timerName?: string\n  remainSecs: number\n  passedSecs: number\n  paused: boolean\n  timeValues: TimeValues\n  parsedMinSecStr: string\n  onTimeupCb?: Callback\n  onTimeValuesChangedCb?: (timeValues: TimeValues) => any\n}\n\nexport const initTimerState: TimerState = {\n  timerName: '',\n  remainSecs: 0,\n  passedSecs: 0,\n  paused: true,\n  timeValues: {\n    mins: 1,\n    secs: 0,\n  },\n  parsedMinSecStr: '',\n};\n\nclass TimerPlocState extends PlocState<TimerState> {\n  timerWorker = new Worker(WORKER_PATH)\n\n  constructor(initState?: Partial<TimerState>) {\n    super({\n      ...initTimerState,\n      ...initState,\n    });\n    this.updateByTimerWorker();\n\n    this.updateState(s => ({\n      remainSecs: getRemainSecs(s.timeValues, s.passedSecs),\n    }));\n    this.updateState(s => ({\n      parsedMinSecStr: parseSecsToMinSec(s.remainSecs)\n    }));\n\n    this.addlistener(s => {\n      const remainSecs = getRemainSecs(s.timeValues, s.passedSecs);\n      const parsedMinSecStr = parseSecsToMinSec(remainSecs);\n      return ({\n        remainSecs,\n        parsedMinSecStr,\n      });\n    }, s => [s.passedSecs, s.timeValues, ]);\n\n    this.addlistener(\n      this.updateByRemainSecs,\n      s => [s.remainSecs, s.paused]\n    );\n  }\n\n  handleResetTimer = () => {\n    console.log('reset');\n    this.handlePauseTimer();\n    this.updateState(s => ({\n      passedSecs: 0,\n      // parsedMinSecStr: parseSecsToMinSec(s.remainSecs)\n    }));\n  }\n\n  handlePauseTimer() {\n    console.log('timer paused');\n    this.updateState(s => ({\n      paused: true \n    }));\n    this.timerWorker.postMessage(WORKER_MESSAGES.STOP);\n  }\n\n  handleStartTimer = () => {\n    console.log('timer started');\n    this.updateState(s => ({\n      paused: false,\n    }));\n    this.timerWorker.postMessage(WORKER_MESSAGES.START);\n  }\n\n  handleStartOrPause = (_pause?: boolean) => {\n    const { paused } = this.state;\n    let newPaused = !paused;\n    if(typeof _pause === 'boolean') {\n      newPaused = _pause;\n    }\n    if(newPaused) {\n      this.handlePauseTimer();\n    } else {\n      this.handleStartTimer();\n    }\n  }\n\n  handleEditTimeVals = (name: any, val: string) => {\n    this.updateState((s) => ({\n      timeValues: ({\n        ...s.timeValues,\n        [name]: Number(val) < 0 ? 0 : Number(val)\n      })\n    }));\n  }\n\n  handleEditTimerName = (tName: string) => {\n    this.updateState(s => ({\n      timerName: tName,\n    }));\n  }\n\n  handleAddPassedSecs() {\n    !this.state.paused && this.updateState((s) => ({\n      passedSecs: s.passedSecs + 1,\n    }));\n  }\n\n  private updateByTimerWorker() {\n    const tick = (e: MessageEvent<any>) => {\n      if(e.data === WORKER_MESSAGES.TICK_FROM_WORKER) {\n        this.handleAddPassedSecs();\n      }\n    };\n\n    this.timerWorker.addEventListener('message', tick);\n    return () => {\n      this.timerWorker.removeEventListener('message', tick);\n      this.timerWorker.postMessage(WORKER_MESSAGES.STOP);\n    };\n  }\n\n  private updateByRemainSecs: Listener<TimerState> = (s) => {\n    if(s.remainSecs < 0 && !s.paused) {\n      this.handleResetTimer();\n      s.onTimeupCb && s.onTimeupCb();\n    }\n  }\n}\n\nexport default TimerPlocState;","import PlocState from \"./PlocState\";\n\nexport interface ToggleState {\n  toggle: boolean\n}\n\nclass TogglePlocState extends PlocState<ToggleState> {\n  handleToggle = () => {\n    this.updateState(s => ({\n      toggle: !s.toggle\n    }));\n  }\n\n  setToggle = (_toggle: ToggleState['toggle']) => {\n    this.updateState({\n      toggle: _toggle\n    });\n  }\n}\n\nexport default TogglePlocState;","import { useCallback, useEffect, useState } from \"react\";\nimport PlocState from \"./PlocState\";\n\nconst usePlocState = <S>(ploc: PlocState<S>) => {\n  const [state, setState] = useState(ploc.state);\n\n  useEffect(() => {\n    const listener = (newState: S) => {\n      // console.log(newState);\n      setState(newState);\n    };\n    ploc.addlistener(listener);\n    return () => ploc.removeListener(listener);\n  }, [ploc]);\n\n  return state;\n};\n\nexport default usePlocState;","import { Callback } from \"common-types\";\nimport { DEFAULT_TIME_VALUES } from \"config\";\nimport { ChangeEvent, FormEvent, useCallback, useEffect, useRef } from \"react\";\nimport AudioPlocState from \"states/AudioPlocState\";\nimport { context } from \"states/context\";\nimport { Listener } from \"states/PlocState\";\nimport TimerPlocState, { TimerState, TimeValues } from \"../states/TimerPlocState\";\nimport TogglePlocState, { ToggleState } from \"../states/TogglePlocState\";\nimport usePlocState from \"../states/usePlocState\";\n\nexport interface UseWorkerTimerOptions {\n  timerId: number\n  timerName?: string\n  initTimeVals?: TimeValues\n  onTimeValuesChanged?: (timerId: number, timeVals: TimeValues) => any\n  onTimerNameChanged: (id: number, timerName?: string) => any\n  onPlayAudio: Callback\n}\n\nconst useWorkerTimer = (options: UseWorkerTimerOptions) => {\n  const {\n    timerName,\n    timerId,\n    initTimeVals,\n    onTimeValuesChanged,\n    onTimerNameChanged,\n    onPlayAudio,\n  } = options;\n\n  const ctxState = usePlocState(context);\n\n  const getVolume = () => {\n    // console.log(context.state.alarmVolume);\n    return context.state.alarmVolume;\n  };\n\n  const timerPloc = useRef(new TimerPlocState({\n    timerName,\n    timeValues: initTimeVals || DEFAULT_TIME_VALUES,\n    onTimeupCb: () => onPlayAudio({\n      volume: getVolume(),\n    })\n  }));\n  const timerState = usePlocState(timerPloc.current);\n\n  const togglePloc = useRef(new TogglePlocState({\n    toggle: false,\n  }));\n  const toggleState = usePlocState(togglePloc.current);\n\n  const handleStartPause = timerPloc.current.handleStartOrPause;\n\n  const handleEditTime = (e: any) => {\n    timerPloc.current.handleEditTimeVals(e.target.name, e.target.value);\n  };\n\n  const handleEditTimerName = (e: ChangeEvent<any>) => {\n    timerPloc.current.handleEditTimerName(e.target.value);\n  };\n\n  const handleTimeValueChanged = useCallback((_timeValues: TimeValues) => {\n    onTimeValuesChanged && onTimeValuesChanged(timerId, {..._timeValues});\n  }, [onTimeValuesChanged, timerId]);\n\n  useEffect(() => {\n    const listener: Listener<TimerState> = (s) => {\n      console.log(s.timerName);\n      onTimerNameChanged(timerId, s.timerName);\n    };\n    timerPloc.current.addlistener(listener, s => [s.timerName]);\n    return () => timerPloc.current.removeListener(listener);\n  }, [onTimerNameChanged, timerId]);\n\n  useEffect(() => {\n    const listner: Listener<ToggleState> = s => {\n      if(!s.toggle) {\n        handleTimeValueChanged(timerPloc.current.state.timeValues);\n      }\n    };\n    togglePloc.current.addlistener(listner, s => [s.toggle]);\n    return () => togglePloc.current.removeListener(listner);\n  }, [handleTimeValueChanged]);\n\n  // useEffect(() => {\n  //   console.log(ctxState.alarmVolume);\n  // }, [ctxState.alarmVolume]);\n\n  return ({\n    ctxState,\n    toggleState,\n    timerState,\n    handleEditTime,\n    handleEditTimerName,\n    handleStartPause,\n    handleReset: timerPloc.current.handleResetTimer,\n    handleToggleEditTime: togglePloc.current.setToggle,\n  });\n};\n\nexport default useWorkerTimer;","import React, { memo } from 'react';\nimport TimerItem from '../components/TimerItem';\nimport useWorkerTimer from '../hooks/useWorkerTimer';\nimport { TimerItemContainerProps } from './types';\n\nconst TimerItemContainer = (props: TimerItemContainerProps) => {\n  const {\n    ctxState,\n    toggleState,\n    timerState,\n    handleEditTime,\n    handleEditTimerName,\n    handleReset,\n    handleStartPause,\n    handleToggleEditTime,\n  } = useWorkerTimer(props);\n\n  return (\n    <>\n      <span style={{\n        display: 'none',\n      }}>{ctxState.alarmVolume}</span>\n      <TimerItem\n        timerName={timerState.timerName}\n        isEdit={toggleState.toggle}\n        paused={timerState.paused}\n        timeStr={timerState.parsedMinSecStr}\n        timeValues={timerState.timeValues}\n        onEditTime={handleEditTime}\n        onEditTimerName={handleEditTimerName}\n        onStartPause={handleStartPause}\n        onReset={handleReset}\n        onDeleteTimer={props.onDeleteTimer}\n        onToggleEditTime={(toggle: boolean) => () => handleToggleEditTime(toggle)}\n      />\n    </>\n  );\n};\n\nexport default memo(TimerItemContainer);","import React, { memo } from 'react';\nimport { ReactComponent as AddIcon } from 'static/add_black_24dp.svg';\nimport TimerItemContainer from '../containers/TimerItemContainer';\nimport { TimerListProps } from './types';\n\nconst TimerList = ({\n  timerListData,\n  onAddTimer,\n  onDeleteTimer,\n  onTimerNameChanged,\n  onTimeValuesChanged,\n  onPlayAudio,\n}: TimerListProps) => {\n  return (\n    <>\n      {timerListData.map(({ timerId: id, timeValues, timerName, }) => (\n        <TimerItemContainer\n          key={id}\n          timerId={id}\n          timerName={timerName}\n          initTimeVals={timeValues}\n          onDeleteTimer={() => onDeleteTimer(id)}\n          onTimeValuesChanged={onTimeValuesChanged}\n          onTimerNameChanged={onTimerNameChanged}\n          onPlayAudio={onPlayAudio}\n        />\n      ))}\n      <button className={\"timer-btn\"} onClick={onAddTimer}>\n        <AddIcon />\n      </button>\n    </>\n  );\n};\n\nexport default memo(TimerList);","import { SingleTimer } from \"../../components/types\";\r\nimport { DEFAULT_TIME_VALUES } from \"../../config\";\r\nimport { TimeValues } from \"../../states/TimerPlocState\";\r\n\r\nconst TimerStorage = {\r\n  LSKey: \"worker-timer\",\r\n\r\n  defaultTimers: [\r\n    {\r\n      timerId: 0,\r\n      timeValues: DEFAULT_TIME_VALUES\r\n    }\r\n  ],\r\n\r\n  getLSData(): SingleTimer[] {\r\n    const data = localStorage.getItem(this.LSKey);\r\n    if (!data) {\r\n      return this.defaultTimers;\r\n    }\r\n    const parsed = JSON.parse(data);\r\n\r\n    return !parsed.length ? this.defaultTimers : parsed;\r\n  },\r\n\r\n  setLSData(timers: SingleTimer[]) {\r\n    const data = JSON.stringify(timers);\r\n    localStorage.setItem(this.LSKey, data);\r\n  },\r\n\r\n  getTimersMaxId: (timers: SingleTimer[]) => {\r\n    const ids = timers.map((t) => t.timerId);\r\n    return Math.max(...ids);\r\n  }\r\n};\r\n\r\nexport default TimerStorage;\r\n","import { SingleTimer } from \"../components/types\";\nimport { DEFAULT_TIME_VALUES } from \"../config\";\nimport TimerStorage from \"../utils/handlers/TimerStorage\";\nimport PlocState, { Listener } from \"./PlocState\";\nimport { TimeValues } from \"./TimerPlocState\";\n\nexport interface TimerListState {\n  timerList: SingleTimer[]\n  latestId: number\n}\n\nconst defaultTimerListState: TimerListState = {\n  latestId: 0,\n  timerList: []\n};\n\nexport const getNewTimerList = (timerId: number, newTimeVals?: TimeValues, timerName?: string) => (s: TimerListState): TimerListState['timerList'] => {\n  let res: TimerListState['timerList'] = [...JSON.parse(JSON.stringify(s.timerList))];\n    \n  const timerIdx = s.timerList.findIndex(t => t.timerId === timerId);\n  if(timerIdx !== -1) {\n    // console.log(res[timerId]);\n    const timer = res[timerIdx];\n    res[timerIdx] = {\n      ...timer,\n      timeValues: newTimeVals || timer.timeValues,\n      timerName: timerName || timer.timerName,\n    };\n  }\n  return res;\n};\n\nclass TimerListPlocState extends PlocState<TimerListState> {\n  constructor(initS?:  Partial<TimerListState>) {\n    super({\n      ...defaultTimerListState,\n      ...initS,\n    });\n    this.addlistener(\n      this.listenToTimeListChanged,\n      s => [[...s.timerList]]\n    );\n  }\n\n  private makeNewTimer = (id: number, timeValues = DEFAULT_TIME_VALUES): SingleTimer => {\n    return ({\n      timerId: id,\n      timerName: '',\n      timeValues,\n    });\n  }\n\n  private listenToTimeListChanged: Listener<TimerListState> = (s) => {\n    TimerStorage.setLSData(s.timerList);\n    return ({\n      timerList: s.timerList,\n    });\n  }\n\n  handleAddTimer = (timeValues?: TimeValues) => {\n    this.updateState(s => {\n      const newId = s.latestId + 1;\n      return ({\n        latestId: newId,\n        timerList: [...s.timerList, this.makeNewTimer(newId, timeValues)]\n      });\n    });\n  }\n\n  handleRemoveTimer = (id: number) => {\n    this.updateState(s => ({\n      timerList: s.timerList.filter(t => t.timerId !== id)\n    }));\n  }\n\n  handleUpdateTimerListByFn(getNewTimerListFn: (params: any) => SingleTimer[]) {\n    this.updateState(s => {\n      return ({\n        timerList: getNewTimerListFn(s),\n      });\n    });\n  }\n}\n\nexport default TimerListPlocState;","import { useRef } from \"react\";\nimport TimerListPlocState, { getNewTimerList } from \"states/TimerListPlocState\";\nimport { TimeValues } from \"states/TimerPlocState\";\nimport usePlocState from \"states/usePlocState\";\nimport TimerStorage from \"utils/handlers/TimerStorage\";\n\nconst useTimerList = () => {\n  const timerListPloc = useRef(new TimerListPlocState({\n    latestId: TimerStorage.getTimersMaxId(\n      TimerStorage.getLSData()\n    ),\n    timerList: TimerStorage.getLSData()\n  }));\n  const timerListState = usePlocState(timerListPloc.current);\n\n  const {\n    handleAddTimer,\n    handleRemoveTimer,\n  } = timerListPloc.current;\n\n  const handleSetTimeValues = (id: number, timeValues: TimeValues) => {\n    timerListPloc.current.handleUpdateTimerListByFn(\n      getNewTimerList(id, timeValues)\n    );\n  };\n\n  const handleSetTimerName = (id: number, timerName?: string) => {\n    timerListPloc.current.handleUpdateTimerListByFn(\n      getNewTimerList(id, undefined, timerName)\n    );\n  };\n\n  return ({\n    timerListState,\n    handleAddTimer,\n    handleSetTimeValues,\n    handleSetTimerName,\n    handleRemoveTimer,\n  });\n};\n\nexport default useTimerList;","import TimerList from 'components/TimerList';\nimport useTimerList from 'hooks/useTimerList';\nimport React, { memo } from 'react';\nimport { TimerListContainerProps } from './types';\n\nconst TimerListContainer = (props: TimerListContainerProps) => {\n  const {\n    timerListState,\n    handleAddTimer,\n    handleRemoveTimer,\n    handleSetTimeValues,\n    handleSetTimerName,\n  } = useTimerList();\n\n  return (\n    <TimerList \n      {...props}\n      timerListData={timerListState.timerList}\n      onAddTimer={() => handleAddTimer()}\n      onDeleteTimer={handleRemoveTimer}\n      onTimeValuesChanged={handleSetTimeValues}\n      onTimerNameChanged={handleSetTimerName}\n    />\n  );\n};\n\nexport default memo(TimerListContainer);","import { AUDIO_PATH } from \"config\";\nimport PlocState from \"./PlocState\";\n\nexport type AudioNameType = \n  'maracaDance' |\n  'clearQuiz'|\n  'clearStage'|\n  'yahaha'|\n  'heyListen'\n\nconst AUDIO_NAME_URL_LIST: SingleAudioNameUrl[] = [\n  { name: 'maracaDance', url: AUDIO_PATH + '/maracadance.mp3'},\n  { name: 'clearQuiz', url: AUDIO_PATH + '/clear-quiz.mp3'},\n  { name: 'clearStage', url: AUDIO_PATH + '/clear-stage.mp3'},\n  { name: 'yahaha', url: AUDIO_PATH + '/yahaha.mp3'},\n  { name: 'heyListen', url: AUDIO_PATH + '/zelda-navi-listen.mp3'},\n];\n\nconst defaultPlayTimeout = 1500;\n\nexport interface SingleAudioNameUrl {\n  name: AudioNameType\n  url: string\n}\n\nexport interface AudioState {\n  repeatTimes?: number\n  playTimeout?: number // ms\n  volume: number\n  selectedAudio: AudioNameType\n  audioNameUrlList: SingleAudioNameUrl[]\n}\n\nexport const defaultAudioState: AudioState = {\n  volume: 0.4,\n  selectedAudio: AUDIO_NAME_URL_LIST[0].name,\n  audioNameUrlList: AUDIO_NAME_URL_LIST\n};\n\nclass AudioPlocState extends PlocState<AudioState> {\n  audio: HTMLAudioElement\n\n  constructor(initS?: Partial<AudioState>) {\n    super({\n      ...defaultAudioState,\n      ...initS,\n    });\n    this.audio = new Audio(this.getSelectedAudio());\n    this.audio.volume = this.state.volume;\n  }\n\n  private getAudioUrl = (name: string) => {\n    return this.state.audioNameUrlList.find(a => a.name === name);\n  }\n  private getSelectedAudio = () => {\n    return this.getAudioUrl(this.state.selectedAudio)?.url;\n  }\n\n  handleSetAudioUrl = (url: string) => {\n    this.audio.setAttribute('src', url);\n    this.audio.load();\n  }\n\n  handleAsyncPlay = () => {\n    this.audio.play();\n    return new Promise(res => {\n      this.audio.addEventListener('ended', () => {\n        // console.log('audio ended');\n        res('ended');\n      });\n    });\n  }\n\n  handlePlay = () => {\n    // this.audio.play();\n    this.handleRepeatPlay();\n    // setTimeout(() => {\n    //   this.handlePause();\n    // }, this.state.playTimeout || defaultPlayTimeout);\n  }\n\n  handleRepeatPlay = (audioOptions?: { volume?: number}) => {\n    (async () => {\n      console.log(audioOptions);\n      if(audioOptions?.volume) {\n        this.audio.volume = audioOptions?.volume;\n      }\n      const repeatTimes = this.state.repeatTimes || 3;\n      for await (const i of Array(repeatTimes)) {\n        await this.handleAsyncPlay();\n      }\n      this.handlePause();\n    })();\n  }\n\n  handlePause = () => {\n    this.audio.pause();\n  }\n}\n\nexport default AudioPlocState;","import AudioSelectorContainer from 'containers/AudioSelectorContainer';\nimport TimerListContainer from 'containers/TimerListContainer';\nimport React, { ChangeEventHandler, memo, useRef } from 'react';\nimport AudioPlocState from 'states/AudioPlocState';\nimport { context } from 'states/context';\nimport { ContextActionsEnum } from 'states/ContextPlocState';\nimport usePlocState from 'states/usePlocState';\nimport './styles.scss';\n\nexport interface UseWorkerTimerViewProps {\n  \n}\n\nconst useWorkerTimerView = () => {\n  const audioPloc = useRef(\n    new AudioPlocState({\n      volume: 0.7,\n      playTimeout: 3000,\n      repeatTimes: 3,\n      selectedAudio: 'heyListen'\n    })\n  );\n  const audioState = usePlocState(audioPloc.current);\n  const ctx = usePlocState(context);\n\n  const handleChangeVolume: ChangeEventHandler<HTMLInputElement> = (e) => {\n    context.dispatch({\n      type: ContextActionsEnum.SET_VOLUME,\n      payload: { volume: Number(e.target.value) / 100 }\n    });\n  };\n\n  return ({\n    ctx,\n    audioPloc,\n    audioState,\n    handleChangeVolume,\n  });\n};\n\nconst WorkerTimerView = () => {\n  const {\n    ctx,\n    audioPloc,\n    audioState,\n    handleChangeVolume,\n  } = useWorkerTimerView();\n\n  return (\n    <div className={'worker-timer-view--wrapper container'}>\n      <h1>{'Worker Timer!'}</h1>\n      <AudioSelectorContainer\n        selectorListData={audioState.audioNameUrlList.map(a => ({\n          text: a.name,\n          value: a.url,\n        }))} \n        onAudioValueChanged={audioPloc.current.handleSetAudioUrl}\n      />\n      <input \n        type={'range'}\n        id={'volume'}\n        name={'volume'}\n        min={'0'}\n        max={'100'}\n        step={'11'}\n        value={String(ctx.alarmVolume * 100)}\n        onChange={handleChangeVolume}\n      />\n      <TimerListContainer\n        onPlayAudio={audioPloc.current.handleRepeatPlay}\n      />\n    </div>\n  );\n};\n\nexport default memo(WorkerTimerView);","import './App.css';\nimport WorkerTimerView from 'view/WorkerTimerView';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <WorkerTimerView />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}